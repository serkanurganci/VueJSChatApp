(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"00ee":function(e,t,n){var r=n("b622"),i=r("toStringTag"),o={};o[i]="z",e.exports="[object z]"===String(o)},"0366":function(e,t,n){var r=n("1c0b");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},"06cf":function(e,t,n){var r=n("83ab"),i=n("d1e7"),o=n("5c6c"),s=n("fc6a"),a=n("a04b"),c=n("5135"),u=n("0cfb"),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=s(e),t=a(t),u)try{return l(e,t)}catch(n){}if(c(e,t))return o(!i.f.call(e,t),e[t])}},"0b42":function(e,t,n){var r=n("861d"),i=n("e8b5"),o=n("b622"),s=o("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)?r(t)&&(t=t[s],null===t&&(t=void 0)):t=void 0),void 0===t?Array:t}},"0cfb":function(e,t,n){var r=n("83ab"),i=n("d039"),o=n("cc12");e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},"159b":function(e,t,n){var r=n("da84"),i=n("fdbc"),o=n("17c2"),s=n("9112");for(var a in i){var c=r[a],u=c&&c.prototype;if(u&&u.forEach!==o)try{s(u,"forEach",o)}catch(l){u.forEach=o}}},"17c2":function(e,t,n){"use strict";var r=n("b727").forEach,i=n("a640"),o=i("forEach");e.exports=o?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},"19aa":function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},"1be4":function(e,t,n){var r=n("d066");e.exports=r("document","documentElement")},"1c0b":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"1c7e":function(e,t,n){var r=n("b622"),i=r("iterator"),o=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){o=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(c){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(c){}return n}},"1cdc":function(e,t,n){var r=n("342f");e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},"1d80":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},2266:function(e,t,n){var r=n("825a"),i=n("e95a"),o=n("50c4"),s=n("0366"),a=n("9a1f"),c=n("35a1"),u=n("2a62"),l=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var h,f,p,d,v,y,_,g=n&&n.that,m=!(!n||!n.AS_ENTRIES),b=!(!n||!n.IS_ITERATOR),w=!(!n||!n.INTERRUPTED),C=s(t,g,1+m+w),O=function(e){return h&&u(h,"normal",e),new l(!0,e)},j=function(e){return m?(r(e),w?C(e[0],e[1],O):C(e[0],e[1])):w?C(e,O):C(e)};if(b)h=e;else{if(f=c(e),"function"!=typeof f)throw TypeError("Target is not iterable");if(i(f)){for(p=0,d=o(e.length);d>p;p++)if(v=j(e[p]),v&&v instanceof l)return v;return new l(!1)}h=a(e,f)}y=h.next;while(!(_=y.call(h)).done){try{v=j(_.value)}catch(E){u(h,"throw",E)}if("object"==typeof v&&v&&v instanceof l)return v}return new l(!1)}},"23cb":function(e,t,n){var r=n("a691"),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},"23e7":function(e,t,n){var r=n("da84"),i=n("06cf").f,o=n("9112"),s=n("6eeb"),a=n("ce4e"),c=n("e893"),u=n("94ca");e.exports=function(e,t){var n,l,h,f,p,d,v=e.target,y=e.global,_=e.stat;if(l=y?r:_?r[v]||a(v,{}):(r[v]||{}).prototype,l)for(h in t){if(p=t[h],e.noTargetGet?(d=i(l,h),f=d&&d.value):f=l[h],n=u(y?h:v+(_?".":"#")+h,e.forced),!n&&void 0!==f){if(typeof p===typeof f)continue;c(p,f)}(e.sham||f&&f.sham)&&o(p,"sham",!0),s(l,h,p,e)}}},"241c":function(e,t,n){var r=n("ca84"),i=n("7839"),o=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},"260b":function(e,t,n){"use strict";var r=n("cc84");n.d(t,"a",(function(){return r["a"]}));var i="firebase",o="8.10.0";
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
r["a"].registerVersion(i,o,"app"),r["a"].SDK_VERSION=o},2626:function(e,t,n){"use strict";var r=n("d066"),i=n("9bf2"),o=n("b622"),s=n("83ab"),a=o("species");e.exports=function(e){var t=r(e),n=i.f;s&&t&&!t[a]&&n(t,a,{configurable:!0,get:function(){return this}})}},"2a62":function(e,t,n){var r=n("825a");e.exports=function(e,t,n){var i,o;r(e);try{if(i=e["return"],void 0===i){if("throw"===t)throw n;return n}i=i.call(e)}catch(s){o=!0,i=s}if("throw"===t)throw n;if(o)throw i;return r(i),n}},"2cf4":function(e,t,n){var r,i,o,s,a=n("da84"),c=n("d039"),u=n("0366"),l=n("1be4"),h=n("cc12"),f=n("1cdc"),p=n("605d"),d=a.setImmediate,v=a.clearImmediate,y=a.process,_=a.MessageChannel,g=a.Dispatch,m=0,b={},w="onreadystatechange";try{r=a.location}catch(S){}var C=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},O=function(e){return function(){C(e)}},j=function(e){C(e.data)},E=function(e){a.postMessage(String(e),r.protocol+"//"+r.host)};d&&v||(d=function(e){var t=[],n=arguments.length,r=1;while(n>r)t.push(arguments[r++]);return b[++m]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},i(m),m},v=function(e){delete b[e]},p?i=function(e){y.nextTick(O(e))}:g&&g.now?i=function(e){g.now(O(e))}:_&&!f?(o=new _,s=o.port2,o.port1.onmessage=j,i=u(s.postMessage,s,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&r&&"file:"!==r.protocol&&!c(E)?(i=E,a.addEventListener("message",j,!1)):i=w in h("script")?function(e){l.appendChild(h("script"))[w]=function(){l.removeChild(this),C(e)}}:function(e){setTimeout(O(e),0)}),e.exports={set:d,clear:v}},"2d00":function(e,t,n){var r,i,o=n("da84"),s=n("342f"),a=o.process,c=o.Deno,u=a&&a.versions||c&&c.version,l=u&&u.v8;l?(r=l.split("."),i=r[0]<4?1:r[0]+r[1]):s&&(r=s.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/),r&&(i=r[1]))),e.exports=i&&+i},"342f":function(e,t,n){var r=n("d066");e.exports=r("navigator","userAgent")||""},"35a1":function(e,t,n){var r=n("f5df"),i=n("3f8c"),o=n("b622"),s=o("iterator");e.exports=function(e){if(void 0!=e)return e[s]||e["@@iterator"]||i[r(e)]}},"37e8":function(e,t,n){var r=n("83ab"),i=n("9bf2"),o=n("825a"),s=n("df75");e.exports=r?Object.defineProperties:function(e,t){o(e);var n,r=s(t),a=r.length,c=0;while(a>c)i.f(e,n=r[c++],t[n]);return e}},"3bbe":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"3f8c":function(e,t){e.exports={}},4362:function(e,t,n){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,r="/";t.cwd=function(){return r},t.chdir=function(t){e||(e=n("df7c")),r=e.resolve(t,r)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},"44ad":function(e,t,n){var r=n("d039"),i=n("c6b6"),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},"44d2":function(e,t,n){var r=n("b622"),i=n("7c73"),o=n("9bf2"),s=r("unscopables"),a=Array.prototype;void 0==a[s]&&o.f(a,s,{configurable:!0,value:i(null)}),e.exports=function(e){a[s][e]=!0}},"44de":function(e,t,n){var r=n("da84");e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},4840:function(e,t,n){var r=n("825a"),i=n("1c0b"),o=n("b622"),s=o("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||void 0==(n=r(o)[s])?t:i(n)}},"485a":function(e,t,n){var r=n("861d");e.exports=function(e,t){var n,i;if("string"===t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if("string"!==t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},4930:function(e,t,n){var r=n("2d00"),i=n("d039");e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},"4d64":function(e,t,n){var r=n("fc6a"),i=n("50c4"),o=n("23cb"),s=function(e){return function(t,n,s){var a,c=r(t),u=i(c.length),l=o(s,u);if(e&&n!=n){while(u>l)if(a=c[l++],a!=a)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},"50c4":function(e,t,n){var r=n("a691"),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},5135:function(e,t,n){var r=n("7b0b"),i={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return i.call(r(e),t)}},5692:function(e,t,n){var r=n("c430"),i=n("c6cd");(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.17.2",mode:r?"pure":"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,t,n){var r=n("d066"),i=n("241c"),o=n("7418"),s=n("825a");e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(s(e)),n=o.f;return n?t.concat(n(e)):t}},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"605d":function(e,t,n){var r=n("c6b6"),i=n("da84");e.exports="process"==r(i.process)},6069:function(e,t){e.exports="object"==typeof window},"60da":function(e,t,n){"use strict";var r=n("83ab"),i=n("d039"),o=n("df75"),s=n("7418"),a=n("d1e7"),c=n("7b0b"),u=n("44ad"),l=Object.assign,h=Object.defineProperty;e.exports=!l||i((function(){if(r&&1!==l({b:1},l(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||o(l({},t)).join("")!=i}))?function(e,t){var n=c(e),i=arguments.length,l=1,h=s.f,f=a.f;while(i>l){var p,d=u(arguments[l++]),v=h?o(d).concat(h(d)):o(d),y=v.length,_=0;while(y>_)p=v[_++],r&&!f.call(d,p)||(n[p]=d[p])}return n}:l},"65f0":function(e,t,n){var r=n("0b42");e.exports=function(e,t){return new(r(e))(0===t?0:t)}},"66ce":function(e,t,n){"use strict";n("e947")},"69f3":function(e,t,n){var r,i,o,s=n("7f9a"),a=n("da84"),c=n("861d"),u=n("9112"),l=n("5135"),h=n("c6cd"),f=n("f772"),p=n("d012"),d="Object already initialized",v=a.WeakMap,y=function(e){return o(e)?i(e):r(e,{})},_=function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(s||h.state){var g=h.state||(h.state=new v),m=g.get,b=g.has,w=g.set;r=function(e,t){if(b.call(g,e))throw new TypeError(d);return t.facade=e,w.call(g,e,t),t},i=function(e){return m.call(g,e)||{}},o=function(e){return b.call(g,e)}}else{var C=f("state");p[C]=!0,r=function(e,t){if(l(e,C))throw new TypeError(d);return t.facade=e,u(e,C,t),t},i=function(e){return l(e,C)?e[C]:{}},o=function(e){return l(e,C)}}e.exports={set:r,get:i,has:o,enforce:y,getterFor:_}},"6eeb":function(e,t,n){var r=n("da84"),i=n("9112"),o=n("5135"),s=n("ce4e"),a=n("8925"),c=n("69f3"),u=c.get,l=c.enforce,h=String(String).split("String");(e.exports=function(e,t,n,a){var c,u=!!a&&!!a.unsafe,f=!!a&&!!a.enumerable,p=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||i(n,"name",t),c=l(n),c.source||(c.source=h.join("string"==typeof t?t:""))),e!==r?(u?!p&&e[t]&&(f=!0):delete e[t],f?e[t]=n:i(e,t,n)):f?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||a(this)}))},7418:function(e,t){t.f=Object.getOwnPropertySymbols},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7a23":function(e,t,n){"use strict";n.d(t,"h",(function(){return Ee})),n.d(t,"i",(function(){return Me})),n.d(t,"e",(function(){return r["H"]})),n.d(t,"k",(function(){return r["K"]})),n.d(t,"a",(function(){return Nn})),n.d(t,"c",(function(){return Vn})),n.d(t,"d",(function(){return Yn})),n.d(t,"f",(function(){return Pt})),n.d(t,"g",(function(){return Mn})),n.d(t,"j",(function(){return or})),n.d(t,"m",(function(){return _n})),n.d(t,"b",(function(){return go})),n.d(t,"l",(function(){return lo})),n.d(t,"n",(function(){return po}));var r=n("9ff4");let i;const o=[];class s{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&i&&(this.parent=i,this.index=(i.scopes||(i.scopes=[])).push(this)-1)}run(e){if(this.active)try{return this.on(),e()}finally{this.off()}else 0}on(){this.active&&(o.push(this),i=this)}off(){this.active&&(o.pop(),i=o[o.length-1])}stop(e){if(this.active){if(this.effects.forEach(e=>e.stop()),this.cleanups.forEach(e=>e()),this.scopes&&this.scopes.forEach(e=>e.stop(!0)),this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.active=!1}}}function a(e,t){t=t||i,t&&t.active&&t.effects.push(e)}const c=e=>{const t=new Set(e);return t.w=0,t.n=0,t},u=e=>(e.w&v)>0,l=e=>(e.n&v)>0,h=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=v},f=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];u(i)&&!l(i)?i.delete(e):t[n++]=i,i.w&=~v,i.n&=~v}t.length=n}},p=new WeakMap;let d=0,v=1;const y=30,_=[];let g;const m=Symbol(""),b=Symbol("");class w{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],a(this,n)}run(){if(!this.active)return this.fn();if(!_.includes(this))try{return _.push(g=this),S(),v=1<<++d,d<=y?h(this):C(this),this.fn()}finally{d<=y&&f(this),v=1<<--d,T(),_.pop();const e=_.length;g=e>0?_[e-1]:void 0}}stop(){this.active&&(C(this),this.onStop&&this.onStop(),this.active=!1)}}function C(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let O=!0;const j=[];function E(){j.push(O),O=!1}function S(){j.push(O),O=!0}function T(){const e=j.pop();O=void 0===e||e}function x(e,t,n){if(!k())return;let r=p.get(e);r||p.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=c());const o=void 0;I(i,o)}function k(){return O&&void 0!==g}function I(e,t){let n=!1;d<=y?l(e)||(e.n|=v,n=!u(e)):n=!e.has(g),n&&(e.add(g),g.deps.push(e))}function P(e,t,n,i,o,s){const a=p.get(e);if(!a)return;let u=[];if("clear"===t)u=[...a.values()];else if("length"===n&&Object(r["n"])(e))a.forEach((e,t)=>{("length"===t||t>=i)&&u.push(e)});else switch(void 0!==n&&u.push(a.get(n)),t){case"add":Object(r["n"])(e)?Object(r["r"])(n)&&u.push(a.get("length")):(u.push(a.get(m)),Object(r["s"])(e)&&u.push(a.get(b)));break;case"delete":Object(r["n"])(e)||(u.push(a.get(m)),Object(r["s"])(e)&&u.push(a.get(b)));break;case"set":Object(r["s"])(e)&&u.push(a.get(m));break}if(1===u.length)u[0]&&N(u[0]);else{const e=[];for(const t of u)t&&e.push(...t);N(c(e))}}function N(e,t){for(const n of Object(r["n"])(e)?e:[...e])(n!==g||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const R=Object(r["G"])("__proto__,__v_isRef,__isVue"),A=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(r["D"])),D=W(),L=W(!1,!0),F=W(!0),M=q();function q(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...e){const n=Ne(this);for(let t=0,i=this.length;t<i;t++)x(n,"get",t+"");const r=n[t](...e);return-1===r||!1===r?n[t](...e.map(Ne)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...e){E();const n=Ne(this)[t].apply(this,e);return T(),n}}),e}function W(e=!1,t=!1){return function(n,i,o){if("__v_isReactive"===i)return!e;if("__v_isReadonly"===i)return e;if("__v_raw"===i&&o===(e?t?Ce:we:t?be:me).get(n))return n;const s=Object(r["n"])(n);if(!e&&s&&Object(r["j"])(M,i))return Reflect.get(M,i,o);const a=Reflect.get(n,i,o);if(Object(r["D"])(i)?A.has(i):R(i))return a;if(e||x(n,"get",i),t)return a;if(Fe(a)){const e=!s||!Object(r["r"])(i);return e?a.value:a}return Object(r["u"])(a)?e?Te(a):Ee(a):a}}const U=V(),B=V(!0);function V(e=!1){return function(t,n,i,o){let s=t[n];if(!e&&(i=Ne(i),s=Ne(s),!Object(r["n"])(t)&&Fe(s)&&!Fe(i)))return s.value=i,!0;const a=Object(r["n"])(t)&&Object(r["r"])(n)?Number(n)<t.length:Object(r["j"])(t,n),c=Reflect.set(t,n,i,o);return t===Ne(o)&&(a?Object(r["i"])(i,s)&&P(t,"set",n,i,s):P(t,"add",n,i)),c}}function z(e,t){const n=Object(r["j"])(e,t),i=e[t],o=Reflect.deleteProperty(e,t);return o&&n&&P(e,"delete",t,void 0,i),o}function H(e,t){const n=Reflect.has(e,t);return Object(r["D"])(t)&&A.has(t)||x(e,"has",t),n}function Q(e){return x(e,"iterate",Object(r["n"])(e)?"length":m),Reflect.ownKeys(e)}const K={get:D,set:U,deleteProperty:z,has:H,ownKeys:Q},G={get:F,set(e,t){return!0},deleteProperty(e,t){return!0}},Y=Object(r["h"])({},K,{get:L,set:B}),$=e=>Object(r["u"])(e)?Ee(e):e,J=e=>Object(r["u"])(e)?Te(e):e,X=e=>e,Z=e=>Reflect.getPrototypeOf(e);function ee(e,t,n=!1,r=!1){e=e["__v_raw"];const i=Ne(e),o=Ne(t);t!==o&&!n&&x(i,"get",t),!n&&x(i,"get",o);const{has:s}=Z(i),a=r?X:n?J:$;return s.call(i,t)?a(e.get(t)):s.call(i,o)?a(e.get(o)):void(e!==i&&e.get(t))}function te(e,t=!1){const n=this["__v_raw"],r=Ne(n),i=Ne(e);return e!==i&&!t&&x(r,"has",e),!t&&x(r,"has",i),e===i?n.has(e):n.has(e)||n.has(i)}function ne(e,t=!1){return e=e["__v_raw"],!t&&x(Ne(e),"iterate",m),Reflect.get(e,"size",e)}function re(e){e=Ne(e);const t=Ne(this),n=Z(t),r=n.has.call(t,e);return r||(t.add(e),P(t,"add",e,e)),this}function ie(e,t){t=Ne(t);const n=Ne(this),{has:i,get:o}=Z(n);let s=i.call(n,e);s||(e=Ne(e),s=i.call(n,e));const a=o.call(n,e);return n.set(e,t),s?Object(r["i"])(t,a)&&P(n,"set",e,t,a):P(n,"add",e,t),this}function oe(e){const t=Ne(this),{has:n,get:r}=Z(t);let i=n.call(t,e);i||(e=Ne(e),i=n.call(t,e));const o=r?r.call(t,e):void 0,s=t.delete(e);return i&&P(t,"delete",e,void 0,o),s}function se(){const e=Ne(this),t=0!==e.size,n=void 0,r=e.clear();return t&&P(e,"clear",void 0,void 0,n),r}function ae(e,t){return function(n,r){const i=this,o=i["__v_raw"],s=Ne(o),a=t?X:e?J:$;return!e&&x(s,"iterate",m),o.forEach((e,t)=>n.call(r,a(e),a(t),i))}}function ce(e,t,n){return function(...i){const o=this["__v_raw"],s=Ne(o),a=Object(r["s"])(s),c="entries"===e||e===Symbol.iterator&&a,u="keys"===e&&a,l=o[e](...i),h=n?X:t?J:$;return!t&&x(s,"iterate",u?b:m),{next(){const{value:e,done:t}=l.next();return t?{value:e,done:t}:{value:c?[h(e[0]),h(e[1])]:h(e),done:t}},[Symbol.iterator](){return this}}}}function ue(e){return function(...t){return"delete"!==e&&this}}function le(){const e={get(e){return ee(this,e)},get size(){return ne(this)},has:te,add:re,set:ie,delete:oe,clear:se,forEach:ae(!1,!1)},t={get(e){return ee(this,e,!1,!0)},get size(){return ne(this)},has:te,add:re,set:ie,delete:oe,clear:se,forEach:ae(!1,!0)},n={get(e){return ee(this,e,!0)},get size(){return ne(this,!0)},has(e){return te.call(this,e,!0)},add:ue("add"),set:ue("set"),delete:ue("delete"),clear:ue("clear"),forEach:ae(!0,!1)},r={get(e){return ee(this,e,!0,!0)},get size(){return ne(this,!0)},has(e){return te.call(this,e,!0)},add:ue("add"),set:ue("set"),delete:ue("delete"),clear:ue("clear"),forEach:ae(!0,!0)},i=["keys","values","entries",Symbol.iterator];return i.forEach(i=>{e[i]=ce(i,!1,!1),n[i]=ce(i,!0,!1),t[i]=ce(i,!1,!0),r[i]=ce(i,!0,!0)}),[e,n,t,r]}const[he,fe,pe,de]=le();function ve(e,t){const n=t?e?de:pe:e?fe:he;return(t,i,o)=>"__v_isReactive"===i?!e:"__v_isReadonly"===i?e:"__v_raw"===i?t:Reflect.get(Object(r["j"])(n,i)&&i in t?n:t,i,o)}const ye={get:ve(!1,!1)},_e={get:ve(!1,!0)},ge={get:ve(!0,!1)};const me=new WeakMap,be=new WeakMap,we=new WeakMap,Ce=new WeakMap;function Oe(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function je(e){return e["__v_skip"]||!Object.isExtensible(e)?0:Oe(Object(r["N"])(e))}function Ee(e){return e&&e["__v_isReadonly"]?e:xe(e,!1,K,ye,me)}function Se(e){return xe(e,!1,Y,_e,be)}function Te(e){return xe(e,!0,G,ge,we)}function xe(e,t,n,i,o){if(!Object(r["u"])(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;const s=o.get(e);if(s)return s;const a=je(e);if(0===a)return e;const c=new Proxy(e,2===a?i:n);return o.set(e,c),c}function ke(e){return Ie(e)?ke(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function Ie(e){return!(!e||!e["__v_isReadonly"])}function Pe(e){return ke(e)||Ie(e)}function Ne(e){const t=e&&e["__v_raw"];return t?Ne(t):e}function Re(e){return Object(r["g"])(e,"__v_skip",!0),e}function Ae(e){k()&&(e=Ne(e),e.dep||(e.dep=c()),I(e.dep))}function De(e,t){e=Ne(e),e.dep&&N(e.dep)}const Le=e=>Object(r["u"])(e)?Ee(e):e;function Fe(e){return Boolean(e&&!0===e.__v_isRef)}function Me(e){return We(e,!1)}class qe{constructor(e,t){this._shallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Ne(e),this._value=t?e:Le(e)}get value(){return Ae(this),this._value}set value(e){e=this._shallow?e:Ne(e),Object(r["i"])(e,this._rawValue)&&(this._rawValue=e,this._value=this._shallow?e:Le(e),De(this,e))}}function We(e,t){return Fe(e)?e:new qe(e,t)}function Ue(e){return Fe(e)?e.value:e}const Be={get:(e,t,n)=>Ue(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Fe(i)&&!Fe(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function Ve(e){return ke(e)?e:new Proxy(e,Be)}class ze{constructor(e,t,n){this._setter=t,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new w(e,()=>{this._dirty||(this._dirty=!0,De(this))}),this["__v_isReadonly"]=n}get value(){const e=Ne(this);return Ae(e),e._dirty&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function He(e,t){let n,i;Object(r["o"])(e)?(n=e,i=r["d"]):(n=e.get,i=e.set);const o=new ze(n,i,Object(r["o"])(e)||!e.set);return o}Promise.resolve();new Set;new Map;Object.create(null),Object.create(null);function Qe(e,t,...n){const i=e.vnode.props||r["b"];let o=n;const s=t.startsWith("update:"),a=s&&t.slice(7);if(a&&a in i){const e=("modelValue"===a?"model":a)+"Modifiers",{number:t,trim:s}=i[e]||r["b"];s?o=n.map(e=>e.trim()):t&&(o=n.map(r["M"]))}let c;let u=i[c=Object(r["L"])(t)]||i[c=Object(r["L"])(Object(r["e"])(t))];!u&&s&&(u=i[c=Object(r["L"])(Object(r["k"])(t))]),u&&Ir(u,e,6,o);const l=i[c+"Once"];if(l){if(e.emitted){if(e.emitted[c])return}else e.emitted={};e.emitted[c]=!0,Ir(l,e,6,o)}}function Ke(e,t,n=!1){const i=t.emitsCache,o=i.get(e);if(void 0!==o)return o;const s=e.emits;let a={},c=!1;if(!Object(r["o"])(e)){const i=e=>{const n=Ke(e,t,!0);n&&(c=!0,Object(r["h"])(a,n))};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}return s||c?(Object(r["n"])(s)?s.forEach(e=>a[e]=null):Object(r["h"])(a,s),i.set(e,a),a):(i.set(e,null),null)}function Ge(e,t){return!(!e||!Object(r["v"])(t))&&(t=t.slice(2).replace(/Once$/,""),Object(r["j"])(e,t[0].toLowerCase()+t.slice(1))||Object(r["j"])(e,Object(r["k"])(t))||Object(r["j"])(e,t))}let Ye=null,$e=null;function Je(e){const t=Ye;return Ye=e,$e=e&&e.type.__scopeId||null,t}function Xe(e,t=Ye,n){if(!t)return e;if(e._n)return e;const r=(...n)=>{r._d&&Un(-1);const i=Je(t),o=e(...n);return Je(i),r._d&&Un(1),o};return r._n=!0,r._c=!0,r._d=!0,r}function Ze(e){const{type:t,vnode:n,proxy:i,withProxy:o,props:s,propsOptions:[a],slots:c,attrs:u,emit:l,render:h,renderCache:f,data:p,setupState:d,ctx:v,inheritAttrs:y}=e;let _;const g=Je(e);try{let e;if(4&n.shapeFlag){const t=o||i;_=tr(h.call(t,t,f,s,d,p,v)),e=u}else{const n=t;0,_=tr(n.length>1?n(s,{attrs:u,slots:c,emit:l}):n(s,null)),e=t.props?u:et(u)}let g=_;if(e&&!1!==y){const t=Object.keys(e),{shapeFlag:n}=g;t.length&&7&n&&(a&&t.some(r["t"])&&(e=tt(e,a)),g=Zn(g,e))}0,n.dirs&&(g.dirs=g.dirs?g.dirs.concat(n.dirs):n.dirs),n.transition&&(g.transition=n.transition),_=g}catch(m){Ln.length=0,Pr(m,e,1),_=$n(An)}return Je(g),_}const et=e=>{let t;for(const n in e)("class"===n||"style"===n||Object(r["v"])(n))&&((t||(t={}))[n]=e[n]);return t},tt=(e,t)=>{const n={};for(const i in e)Object(r["t"])(i)&&i.slice(9)in t||(n[i]=e[i]);return n};function nt(e,t,n){const{props:r,children:i,component:o}=e,{props:s,children:a,patchFlag:c}=t,u=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&c>=0))return!(!i&&!a||a&&a.$stable)||r!==s&&(r?!s||rt(r,s,u):!!s);if(1024&c)return!0;if(16&c)return r?rt(r,s,u):!!s;if(8&c){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(s[n]!==r[n]&&!Ge(u,n))return!0}}return!1}function rt(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!Ge(n,o))return!0}return!1}function it({vnode:e,parent:t},n){while(t&&t.subTree===e)(e=t.vnode).el=n,t=t.parent}const ot=e=>e.__isSuspense;function st(e,t){t&&t.pendingBranch?Object(r["n"])(e)?t.effects.push(...e):t.effects.push(e):Zr(e)}function at(e,t){if(fr){let n=fr.provides;const r=fr.parent&&fr.parent.provides;r===n&&(n=fr.provides=Object.create(r)),n[e]=t}else 0}function ct(e,t,n=!1){const i=fr||Ye;if(i){const o=null==i.parent?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Object(r["o"])(t)?t.call(i.proxy):t}else 0}function ut(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Pt(()=>{e.isMounted=!0}),At(()=>{e.isUnmounting=!0}),e}const lt=[Function,Array],ht={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:lt,onEnter:lt,onAfterEnter:lt,onEnterCancelled:lt,onBeforeLeave:lt,onLeave:lt,onAfterLeave:lt,onLeaveCancelled:lt,onBeforeAppear:lt,onAppear:lt,onAfterAppear:lt,onAppearCancelled:lt},setup(e,{slots:t}){const n=pr(),r=ut();let i;return()=>{const o=t.default&&gt(t.default(),!0);if(!o||!o.length)return;const s=Ne(e),{mode:a}=s;const c=o[0];if(r.isLeaving)return vt(c);const u=yt(c);if(!u)return vt(c);const l=dt(u,s,r,n);_t(u,l);const h=n.subTree,f=h&&yt(h);let p=!1;const{getTransitionKey:d}=u.type;if(d){const e=d();void 0===i?i=e:e!==i&&(i=e,p=!0)}if(f&&f.type!==An&&(!Hn(u,f)||p)){const e=dt(f,s,r,n);if(_t(f,e),"out-in"===a)return r.isLeaving=!0,e.afterLeave=()=>{r.isLeaving=!1,n.update()},vt(c);"in-out"===a&&u.type!==An&&(e.delayLeave=(e,t,n)=>{const i=pt(r,f);i[String(f.key)]=f,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete l.delayedLeave},l.delayedLeave=n})}return c}}},ft=ht;function pt(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function dt(e,t,n,r){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:u,onEnterCancelled:l,onBeforeLeave:h,onLeave:f,onAfterLeave:p,onLeaveCancelled:d,onBeforeAppear:v,onAppear:y,onAfterAppear:_,onAppearCancelled:g}=t,m=String(e.key),b=pt(n,e),w=(e,t)=>{e&&Ir(e,r,9,t)},C={mode:o,persisted:s,beforeEnter(t){let r=a;if(!n.isMounted){if(!i)return;r=v||a}t._leaveCb&&t._leaveCb(!0);const o=b[m];o&&Hn(e,o)&&o.el._leaveCb&&o.el._leaveCb(),w(r,[t])},enter(e){let t=c,r=u,o=l;if(!n.isMounted){if(!i)return;t=y||c,r=_||u,o=g||l}let s=!1;const a=e._enterCb=t=>{s||(s=!0,w(t?o:r,[e]),C.delayedLeave&&C.delayedLeave(),e._enterCb=void 0)};t?(t(e,a),t.length<=1&&a()):a()},leave(t,r){const i=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return r();w(h,[t]);let o=!1;const s=t._leaveCb=n=>{o||(o=!0,r(),w(n?d:p,[t]),t._leaveCb=void 0,b[i]===e&&delete b[i])};b[i]=e,f?(f(t,s),f.length<=1&&s()):s()},clone(e){return dt(e,t,n,r)}};return C}function vt(e){if(bt(e))return e=Zn(e),e.children=null,e}function yt(e){return bt(e)?e.children?e.children[0]:void 0:e}function _t(e,t){6&e.shapeFlag&&e.component?_t(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function gt(e,t=!1){let n=[],r=0;for(let i=0;i<e.length;i++){const o=e[i];o.type===Nn?(128&o.patchFlag&&r++,n=n.concat(gt(o.children,t))):(t||o.type!==An)&&n.push(o)}if(r>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}const mt=e=>!!e.type.__asyncLoader;const bt=e=>e.type.__isKeepAlive;RegExp,RegExp;function wt(e,t){return Object(r["n"])(e)?e.some(e=>wt(e,t)):Object(r["C"])(e)?e.split(",").indexOf(t)>-1:!!e.test&&e.test(t)}function Ct(e,t){jt(e,"a",t)}function Ot(e,t){jt(e,"da",t)}function jt(e,t,n=fr){const r=e.__wdc||(e.__wdc=()=>{let t=n;while(t){if(t.isDeactivated)return;t=t.parent}e()});if(xt(t,r,n),n){let e=n.parent;while(e&&e.parent)bt(e.parent.vnode)&&Et(r,t,n,e),e=e.parent}}function Et(e,t,n,i){const o=xt(t,e,i,!0);Dt(()=>{Object(r["J"])(i[t],o)},n)}function St(e){let t=e.shapeFlag;256&t&&(t-=256),512&t&&(t-=512),e.shapeFlag=t}function Tt(e){return 128&e.shapeFlag?e.ssContent:e}function xt(e,t,n=fr,r=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;E(),dr(n);const i=Ir(t,n,e,r);return vr(),T(),i});return r?i.unshift(o):i.push(o),o}}const kt=e=>(t,n=fr)=>(!mr||"sp"===e)&&xt(e,t,n),It=kt("bm"),Pt=kt("m"),Nt=kt("bu"),Rt=kt("u"),At=kt("bum"),Dt=kt("um"),Lt=kt("sp"),Ft=kt("rtg"),Mt=kt("rtc");function qt(e,t=fr){xt("ec",e,t)}let Wt=!0;function Ut(e){const t=Ht(e),n=e.proxy,i=e.ctx;Wt=!1,t.beforeCreate&&Vt(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:a,watch:c,provide:u,inject:l,created:h,beforeMount:f,mounted:p,beforeUpdate:d,updated:v,activated:y,deactivated:_,beforeDestroy:g,beforeUnmount:m,destroyed:b,unmounted:w,render:C,renderTracked:O,renderTriggered:j,errorCaptured:E,serverPrefetch:S,expose:T,inheritAttrs:x,components:k,directives:I,filters:P}=t,N=null;if(l&&Bt(l,i,N,e.appContext.config.unwrapInjectedRef),a)for(const A in a){const e=a[A];Object(r["o"])(e)&&(i[A]=e.bind(n))}if(o){0;const t=o.call(n,n);0,Object(r["u"])(t)&&(e.data=Ee(t))}if(Wt=!0,s)for(const A in s){const e=s[A],t=Object(r["o"])(e)?e.bind(n,n):Object(r["o"])(e.get)?e.get.bind(n,n):r["d"];0;const o=!Object(r["o"])(e)&&Object(r["o"])(e.set)?e.set.bind(n):r["d"],a=He({get:t,set:o});Object.defineProperty(i,A,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e})}if(c)for(const r in c)zt(c[r],i,n,r);if(u){const e=Object(r["o"])(u)?u.call(n):u;Reflect.ownKeys(e).forEach(t=>{at(t,e[t])})}function R(e,t){Object(r["n"])(t)?t.forEach(t=>e(t.bind(n))):t&&e(t.bind(n))}if(h&&Vt(h,e,"c"),R(It,f),R(Pt,p),R(Nt,d),R(Rt,v),R(Ct,y),R(Ot,_),R(qt,E),R(Mt,O),R(Ft,j),R(At,m),R(Dt,w),R(Lt,S),Object(r["n"])(T))if(T.length){const t=e.exposed||(e.exposed={});T.forEach(e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})})}else e.exposed||(e.exposed={});C&&e.render===r["d"]&&(e.render=C),null!=x&&(e.inheritAttrs=x),k&&(e.components=k),I&&(e.directives=I)}function Bt(e,t,n=r["d"],i=!1){Object(r["n"])(e)&&(e=$t(e));for(const o in e){const n=e[o];let s;s=Object(r["u"])(n)?"default"in n?ct(n.from||o,n.default,!0):ct(n.from||o):ct(n),Fe(s)&&i?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>s.value,set:e=>s.value=e}):t[o]=s}}function Vt(e,t,n){Ir(Object(r["n"])(e)?e.map(e=>e.bind(t.proxy)):e.bind(t.proxy),t,n)}function zt(e,t,n,i){const o=i.includes(".")?ci(n,i):()=>n[i];if(Object(r["C"])(e)){const n=t[e];Object(r["o"])(n)&&oi(o,n)}else if(Object(r["o"])(e))oi(o,e.bind(n));else if(Object(r["u"])(e))if(Object(r["n"])(e))e.forEach(e=>zt(e,t,n,i));else{const i=Object(r["o"])(e.handler)?e.handler.bind(n):t[e.handler];Object(r["o"])(i)&&oi(o,i,e)}else 0}function Ht(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,a=o.get(t);let c;return a?c=a:i.length||n||r?(c={},i.length&&i.forEach(e=>Qt(c,e,s,!0)),Qt(c,t,s)):c=t,o.set(t,c),c}function Qt(e,t,n,r=!1){const{mixins:i,extends:o}=t;o&&Qt(e,o,n,!0),i&&i.forEach(t=>Qt(e,t,n,!0));for(const s in t)if(r&&"expose"===s);else{const r=Kt[s]||n&&n[s];e[s]=r?r(e[s],t[s]):t[s]}return e}const Kt={data:Gt,props:Xt,emits:Xt,methods:Xt,computed:Xt,beforeCreate:Jt,created:Jt,beforeMount:Jt,mounted:Jt,beforeUpdate:Jt,updated:Jt,beforeDestroy:Jt,beforeUnmount:Jt,destroyed:Jt,unmounted:Jt,activated:Jt,deactivated:Jt,errorCaptured:Jt,serverPrefetch:Jt,components:Xt,directives:Xt,watch:Zt,provide:Gt,inject:Yt};function Gt(e,t){return t?e?function(){return Object(r["h"])(Object(r["o"])(e)?e.call(this,this):e,Object(r["o"])(t)?t.call(this,this):t)}:t:e}function Yt(e,t){return Xt($t(e),$t(t))}function $t(e){if(Object(r["n"])(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Jt(e,t){return e?[...new Set([].concat(e,t))]:t}function Xt(e,t){return e?Object(r["h"])(Object(r["h"])(Object.create(null),e),t):t}function Zt(e,t){if(!e)return t;if(!t)return e;const n=Object(r["h"])(Object.create(null),e);for(const r in t)n[r]=Jt(e[r],t[r]);return n}function en(e,t,n,i=!1){const o={},s={};Object(r["g"])(s,Qn,1),e.propsDefaults=Object.create(null),nn(e,t,o,s);for(const r in e.propsOptions[0])r in o||(o[r]=void 0);n?e.props=i?o:Se(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function tn(e,t,n,i){const{props:o,attrs:s,vnode:{patchFlag:a}}=e,c=Ne(o),[u]=e.propsOptions;let l=!1;if(!(i||a>0)||16&a){let i;nn(e,t,o,s)&&(l=!0);for(const s in c)t&&(Object(r["j"])(t,s)||(i=Object(r["k"])(s))!==s&&Object(r["j"])(t,i))||(u?!n||void 0===n[s]&&void 0===n[i]||(o[s]=rn(u,c,s,void 0,e,!0)):delete o[s]);if(s!==c)for(const e in s)t&&Object(r["j"])(t,e)||(delete s[e],l=!0)}else if(8&a){const n=e.vnode.dynamicProps;for(let i=0;i<n.length;i++){let a=n[i];const h=t[a];if(u)if(Object(r["j"])(s,a))h!==s[a]&&(s[a]=h,l=!0);else{const t=Object(r["e"])(a);o[t]=rn(u,c,t,h,e,!1)}else h!==s[a]&&(s[a]=h,l=!0)}}l&&P(e,"set","$attrs")}function nn(e,t,n,i){const[o,s]=e.propsOptions;let a,c=!1;if(t)for(let u in t){if(Object(r["y"])(u))continue;const l=t[u];let h;o&&Object(r["j"])(o,h=Object(r["e"])(u))?s&&s.includes(h)?(a||(a={}))[h]=l:n[h]=l:Ge(e.emitsOptions,u)||l!==i[u]&&(i[u]=l,c=!0)}if(s){const t=Ne(n),i=a||r["b"];for(let a=0;a<s.length;a++){const c=s[a];n[c]=rn(o,t,c,i[c],e,!Object(r["j"])(i,c))}}return c}function rn(e,t,n,i,o,s){const a=e[n];if(null!=a){const e=Object(r["j"])(a,"default");if(e&&void 0===i){const e=a.default;if(a.type!==Function&&Object(r["o"])(e)){const{propsDefaults:r}=o;n in r?i=r[n]:(dr(o),i=r[n]=e.call(null,t),vr())}else i=e}a[0]&&(s&&!e?i=!1:!a[1]||""!==i&&i!==Object(r["k"])(n)||(i=!0))}return i}function on(e,t,n=!1){const i=t.propsCache,o=i.get(e);if(o)return o;const s=e.props,a={},c=[];let u=!1;if(!Object(r["o"])(e)){const i=e=>{u=!0;const[n,i]=on(e,t,!0);Object(r["h"])(a,n),i&&c.push(...i)};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}if(!s&&!u)return i.set(e,r["a"]),r["a"];if(Object(r["n"])(s))for(let h=0;h<s.length;h++){0;const e=Object(r["e"])(s[h]);sn(e)&&(a[e]=r["b"])}else if(s){0;for(const e in s){const t=Object(r["e"])(e);if(sn(t)){const n=s[e],i=a[t]=Object(r["n"])(n)||Object(r["o"])(n)?{type:n}:n;if(i){const e=un(Boolean,i.type),n=un(String,i.type);i[0]=e>-1,i[1]=n<0||e<n,(e>-1||Object(r["j"])(i,"default"))&&c.push(t)}}}}const l=[a,c];return i.set(e,l),l}function sn(e){return"$"!==e[0]}function an(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function cn(e,t){return an(e)===an(t)}function un(e,t){return Object(r["n"])(t)?t.findIndex(t=>cn(t,e)):Object(r["o"])(t)&&cn(t,e)?0:-1}const ln=e=>"_"===e[0]||"$stable"===e,hn=e=>Object(r["n"])(e)?e.map(tr):[tr(e)],fn=(e,t,n)=>{const r=Xe((...e)=>hn(t(...e)),n);return r._c=!1,r},pn=(e,t,n)=>{const i=e._ctx;for(const o in e){if(ln(o))continue;const n=e[o];if(Object(r["o"])(n))t[o]=fn(o,n,i);else if(null!=n){0;const e=hn(n);t[o]=()=>e}}},dn=(e,t)=>{const n=hn(t);e.slots.default=()=>n},vn=(e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=Ne(t),Object(r["g"])(t,"_",n)):pn(t,e.slots={})}else e.slots={},t&&dn(e,t);Object(r["g"])(e.slots,Qn,1)},yn=(e,t,n)=>{const{vnode:i,slots:o}=e;let s=!0,a=r["b"];if(32&i.shapeFlag){const e=t._;e?n&&1===e?s=!1:(Object(r["h"])(o,t),n||1!==e||delete o._):(s=!t.$stable,pn(t,o)),a=t}else t&&(dn(e,t),a={default:1});if(s)for(const r in o)ln(r)||r in a||delete o[r]};function _n(e,t){const n=Ye;if(null===n)return e;const i=n.proxy,o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[e,n,a,c=r["b"]]=t[s];Object(r["o"])(e)&&(e={mounted:e,updated:e}),e.deep&&ui(n),o.push({dir:e,instance:i,value:n,oldValue:void 0,arg:a,modifiers:c})}return e}function gn(e,t,n,r){const i=e.dirs,o=t&&t.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let c=a.dir[r];c&&(E(),Ir(c,n,8,[e.el,a,e,t]),T())}}function mn(){return{app:null,config:{isNativeTag:r["c"],performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let bn=0;function wn(e,t){return function(n,i=null){null==i||Object(r["u"])(i)||(i=null);const o=mn(),s=new Set;let a=!1;const c=o.app={_uid:bn++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:hi,get config(){return o.config},set config(e){0},use(e,...t){return s.has(e)||(e&&Object(r["o"])(e.install)?(s.add(e),e.install(c,...t)):Object(r["o"])(e)&&(s.add(e),e(c,...t))),c},mixin(e){return o.mixins.includes(e)||o.mixins.push(e),c},component(e,t){return t?(o.components[e]=t,c):o.components[e]},directive(e,t){return t?(o.directives[e]=t,c):o.directives[e]},mount(r,s,u){if(!a){const l=$n(n,i);return l.appContext=o,s&&t?t(l,r):e(l,r,u),a=!0,c._container=r,r.__vue_app__=c,l.component.proxy}},unmount(){a&&(e(null,c._container),delete c._container.__vue_app__)},provide(e,t){return o.provides[e]=t,c}};return c}}function Cn(){}const On=st;function jn(e){return En(e)}function En(e,t){Cn();const{insert:n,remove:i,patchProp:o,createElement:s,createText:a,createComment:c,setText:u,setElementText:l,parentNode:h,nextSibling:f,setScopeId:p=r["d"],cloneNode:d,insertStaticContent:v}=e,y=(e,t,n,r=null,i=null,o=null,s=!1,a=null,c=!!t.dynamicChildren)=>{if(e===t)return;e&&!Hn(e,t)&&(r=K(e),B(e,i,o,!0),e=null),-2===t.patchFlag&&(c=!1,t.dynamicChildren=null);const{type:u,ref:l,shapeFlag:h}=t;switch(u){case Rn:_(e,t,n,r);break;case An:g(e,t,n,r);break;case Dn:null==e&&m(t,n,r,s);break;case Nn:N(e,t,n,r,i,o,s,a,c);break;default:1&h?O(e,t,n,r,i,o,s,a,c):6&h?R(e,t,n,r,i,o,s,a,c):(64&h||128&h)&&u.process(e,t,n,r,i,o,s,a,c,Y)}null!=l&&i&&Sn(l,e&&e.ref,o,t||e,!t)},_=(e,t,r,i)=>{if(null==e)n(t.el=a(t.children),r,i);else{const n=t.el=e.el;t.children!==e.children&&u(n,t.children)}},g=(e,t,r,i)=>{null==e?n(t.el=c(t.children||""),r,i):t.el=e.el},m=(e,t,n,r)=>{[e.el,e.anchor]=v(e.children,t,n,r)},b=({el:e,anchor:t},r,i)=>{let o;while(e&&e!==t)o=f(e),n(e,r,i),e=o;n(t,r,i)},C=({el:e,anchor:t})=>{let n;while(e&&e!==t)n=f(e),i(e),e=n;i(t)},O=(e,t,n,r,i,o,s,a,c)=>{s=s||"svg"===t.type,null==e?j(t,n,r,i,o,s,a,c):k(e,t,i,o,s,a,c)},j=(e,t,i,a,c,u,h,f)=>{let p,v;const{type:y,props:_,shapeFlag:g,transition:m,patchFlag:b,dirs:w}=e;if(e.el&&void 0!==d&&-1===b)p=e.el=d(e.el);else{if(p=e.el=s(e.type,u,_&&_.is,_),8&g?l(p,e.children):16&g&&x(e.children,p,null,a,c,u&&"foreignObject"!==y,h,f),w&&gn(e,null,a,"created"),_){for(const t in _)"value"===t||Object(r["y"])(t)||o(p,t,null,_[t],u,e.children,a,c,Q);"value"in _&&o(p,"value",null,_.value),(v=_.onVnodeBeforeMount)&&Tn(v,a,e)}S(p,e,e.scopeId,h,a)}w&&gn(e,null,a,"beforeMount");const C=(!c||c&&!c.pendingBranch)&&m&&!m.persisted;C&&m.beforeEnter(p),n(p,t,i),((v=_&&_.onVnodeMounted)||C||w)&&On(()=>{v&&Tn(v,a,e),C&&m.enter(p),w&&gn(e,null,a,"mounted")},c)},S=(e,t,n,r,i)=>{if(n&&p(e,n),r)for(let o=0;o<r.length;o++)p(e,r[o]);if(i){let n=i.subTree;if(t===n){const t=i.vnode;S(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},x=(e,t,n,r,i,o,s,a,c=0)=>{for(let u=c;u<e.length;u++){const c=e[u]=a?nr(e[u]):tr(e[u]);y(null,c,t,n,r,i,o,s,a)}},k=(e,t,n,i,s,a,c)=>{const u=t.el=e.el;let{patchFlag:h,dynamicChildren:f,dirs:p}=t;h|=16&e.patchFlag;const d=e.props||r["b"],v=t.props||r["b"];let y;(y=v.onVnodeBeforeUpdate)&&Tn(y,n,t,e),p&&gn(t,e,n,"beforeUpdate");const _=s&&"foreignObject"!==t.type;if(f?I(e.dynamicChildren,f,u,n,i,_,a):c||M(e,t,u,null,n,i,_,a,!1),h>0){if(16&h)P(u,t,d,v,n,i,s);else if(2&h&&d.class!==v.class&&o(u,"class",null,v.class,s),4&h&&o(u,"style",d.style,v.style,s),8&h){const r=t.dynamicProps;for(let t=0;t<r.length;t++){const a=r[t],c=d[a],l=v[a];l===c&&"value"!==a||o(u,a,c,l,s,e.children,n,i,Q)}}1&h&&e.children!==t.children&&l(u,t.children)}else c||null!=f||P(u,t,d,v,n,i,s);((y=v.onVnodeUpdated)||p)&&On(()=>{y&&Tn(y,n,t,e),p&&gn(t,e,n,"updated")},i)},I=(e,t,n,r,i,o,s)=>{for(let a=0;a<t.length;a++){const c=e[a],u=t[a],l=c.el&&(c.type===Nn||!Hn(c,u)||70&c.shapeFlag)?h(c.el):n;y(c,u,l,null,r,i,o,s,!0)}},P=(e,t,n,i,s,a,c)=>{if(n!==i){for(const u in i){if(Object(r["y"])(u))continue;const l=i[u],h=n[u];l!==h&&"value"!==u&&o(e,u,h,l,c,t.children,s,a,Q)}if(n!==r["b"])for(const u in n)Object(r["y"])(u)||u in i||o(e,u,n[u],null,c,t.children,s,a,Q);"value"in i&&o(e,"value",n.value,i.value)}},N=(e,t,r,i,o,s,c,u,l)=>{const h=t.el=e?e.el:a(""),f=t.anchor=e?e.anchor:a("");let{patchFlag:p,dynamicChildren:d,slotScopeIds:v}=t;v&&(u=u?u.concat(v):v),null==e?(n(h,r,i),n(f,r,i),x(t.children,r,f,o,s,c,u,l)):p>0&&64&p&&d&&e.dynamicChildren?(I(e.dynamicChildren,d,r,o,s,c,u),(null!=t.key||o&&t===o.subTree)&&xn(e,t,!0)):M(e,t,r,f,o,s,c,u,l)},R=(e,t,n,r,i,o,s,a,c)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?i.ctx.activate(t,n,r,s,c):A(t,n,r,i,o,s,c):D(e,t,c)},A=(e,t,n,r,i,o,s)=>{const a=e.component=hr(e,r,i);if(bt(e)&&(a.ctx.renderer=Y),br(a),a.asyncDep){if(i&&i.registerDep(a,L),!e.el){const e=a.subTree=$n(An);g(null,e,t,n)}}else L(a,e,t,n,i,o,s)},D=(e,t,n)=>{const r=t.component=e.component;if(nt(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void F(r,t,n);r.next=t,$r(r.update),r.update()}else t.component=e.component,t.el=e.el,r.vnode=t},L=(e,t,n,i,o,s,a)=>{const c=()=>{if(e.isMounted){let t,{next:n,bu:i,u:c,parent:l,vnode:f}=e,p=n;0,u.allowRecurse=!1,n?(n.el=f.el,F(e,n,a)):n=f,i&&Object(r["m"])(i),(t=n.props&&n.props.onVnodeBeforeUpdate)&&Tn(t,l,n,f),u.allowRecurse=!0;const d=Ze(e);0;const v=e.subTree;e.subTree=d,y(v,d,h(v.el),K(v),e,o,s),n.el=d.el,null===p&&it(e,d.el),c&&On(c,o),(t=n.props&&n.props.onVnodeUpdated)&&On(()=>Tn(t,l,n,f),o)}else{let a;const{el:c,props:l}=t,{bm:h,m:f,parent:p}=e,d=mt(t);if(u.allowRecurse=!1,h&&Object(r["m"])(h),!d&&(a=l&&l.onVnodeBeforeMount)&&Tn(a,p,t),u.allowRecurse=!0,c&&J){const n=()=>{e.subTree=Ze(e),J(c,e.subTree,e,o,null)};d?t.type.__asyncLoader().then(()=>!e.isUnmounted&&n()):n()}else{0;const r=e.subTree=Ze(e);0,y(null,r,n,i,e,o,s),t.el=r.el}if(f&&On(f,o),!d&&(a=l&&l.onVnodeMounted)){const e=t;On(()=>Tn(a,p,e),o)}256&t.shapeFlag&&e.a&&On(e.a,o),e.isMounted=!0,t=n=i=null}},u=new w(c,()=>Gr(e.update),e.scope),l=e.update=u.run.bind(u);l.id=e.uid,u.allowRecurse=l.allowRecurse=!0,l()},F=(e,t,n)=>{t.component=e;const r=e.vnode.props;e.vnode=t,e.next=null,tn(e,t.props,r,n),yn(e,t.children,n),E(),ei(void 0,e.update),T()},M=(e,t,n,r,i,o,s,a,c=!1)=>{const u=e&&e.children,h=e?e.shapeFlag:0,f=t.children,{patchFlag:p,shapeFlag:d}=t;if(p>0){if(128&p)return void W(u,f,n,r,i,o,s,a,c);if(256&p)return void q(u,f,n,r,i,o,s,a,c)}8&d?(16&h&&Q(u,i,o),f!==u&&l(n,f)):16&h?16&d?W(u,f,n,r,i,o,s,a,c):Q(u,i,o,!0):(8&h&&l(n,""),16&d&&x(f,n,r,i,o,s,a,c))},q=(e,t,n,i,o,s,a,c,u)=>{e=e||r["a"],t=t||r["a"];const l=e.length,h=t.length,f=Math.min(l,h);let p;for(p=0;p<f;p++){const r=t[p]=u?nr(t[p]):tr(t[p]);y(e[p],r,n,null,o,s,a,c,u)}l>h?Q(e,o,s,!0,!1,f):x(t,n,i,o,s,a,c,u,f)},W=(e,t,n,i,o,s,a,c,u)=>{let l=0;const h=t.length;let f=e.length-1,p=h-1;while(l<=f&&l<=p){const r=e[l],i=t[l]=u?nr(t[l]):tr(t[l]);if(!Hn(r,i))break;y(r,i,n,null,o,s,a,c,u),l++}while(l<=f&&l<=p){const r=e[f],i=t[p]=u?nr(t[p]):tr(t[p]);if(!Hn(r,i))break;y(r,i,n,null,o,s,a,c,u),f--,p--}if(l>f){if(l<=p){const e=p+1,r=e<h?t[e].el:i;while(l<=p)y(null,t[l]=u?nr(t[l]):tr(t[l]),n,r,o,s,a,c,u),l++}}else if(l>p)while(l<=f)B(e[l],o,s,!0),l++;else{const d=l,v=l,_=new Map;for(l=v;l<=p;l++){const e=t[l]=u?nr(t[l]):tr(t[l]);null!=e.key&&_.set(e.key,l)}let g,m=0;const b=p-v+1;let w=!1,C=0;const O=new Array(b);for(l=0;l<b;l++)O[l]=0;for(l=d;l<=f;l++){const r=e[l];if(m>=b){B(r,o,s,!0);continue}let i;if(null!=r.key)i=_.get(r.key);else for(g=v;g<=p;g++)if(0===O[g-v]&&Hn(r,t[g])){i=g;break}void 0===i?B(r,o,s,!0):(O[i-v]=l+1,i>=C?C=i:w=!0,y(r,t[i],n,null,o,s,a,c,u),m++)}const j=w?kn(O):r["a"];for(g=j.length-1,l=b-1;l>=0;l--){const e=v+l,r=t[e],f=e+1<h?t[e+1].el:i;0===O[l]?y(null,r,n,f,o,s,a,c,u):w&&(g<0||l!==j[g]?U(r,n,f,2):g--)}}},U=(e,t,r,i,o=null)=>{const{el:s,type:a,transition:c,children:u,shapeFlag:l}=e;if(6&l)return void U(e.component.subTree,t,r,i);if(128&l)return void e.suspense.move(t,r,i);if(64&l)return void a.move(e,t,r,Y);if(a===Nn){n(s,t,r);for(let e=0;e<u.length;e++)U(u[e],t,r,i);return void n(e.anchor,t,r)}if(a===Dn)return void b(e,t,r);const h=2!==i&&1&l&&c;if(h)if(0===i)c.beforeEnter(s),n(s,t,r),On(()=>c.enter(s),o);else{const{leave:e,delayLeave:i,afterLeave:o}=c,a=()=>n(s,t,r),u=()=>{e(s,()=>{a(),o&&o()})};i?i(s,a,u):u()}else n(s,t,r)},B=(e,t,n,r=!1,i=!1)=>{const{type:o,props:s,ref:a,children:c,dynamicChildren:u,shapeFlag:l,patchFlag:h,dirs:f}=e;if(null!=a&&Sn(a,null,n,e,!0),256&l)return void t.ctx.deactivate(e);const p=1&l&&f,d=!mt(e);let v;if(d&&(v=s&&s.onVnodeBeforeUnmount)&&Tn(v,t,e),6&l)H(e.component,n,r);else{if(128&l)return void e.suspense.unmount(n,r);p&&gn(e,null,t,"beforeUnmount"),64&l?e.type.remove(e,t,n,i,Y,r):u&&(o!==Nn||h>0&&64&h)?Q(u,t,n,!1,!0):(o===Nn&&384&h||!i&&16&l)&&Q(c,t,n),r&&V(e)}(d&&(v=s&&s.onVnodeUnmounted)||p)&&On(()=>{v&&Tn(v,t,e),p&&gn(e,null,t,"unmounted")},n)},V=e=>{const{type:t,el:n,anchor:r,transition:o}=e;if(t===Nn)return void z(n,r);if(t===Dn)return void C(e);const s=()=>{i(n),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&e.shapeFlag&&o&&!o.persisted){const{leave:t,delayLeave:r}=o,i=()=>t(n,s);r?r(e.el,s,i):i()}else s()},z=(e,t)=>{let n;while(e!==t)n=f(e),i(e),e=n;i(t)},H=(e,t,n)=>{const{bum:i,scope:o,update:s,subTree:a,um:c}=e;i&&Object(r["m"])(i),o.stop(),s&&(s.active=!1,B(a,e,t,n)),c&&On(c,t),On(()=>{e.isUnmounted=!0},t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},Q=(e,t,n,r=!1,i=!1,o=0)=>{for(let s=o;s<e.length;s++)B(e[s],t,n,r,i)},K=e=>6&e.shapeFlag?K(e.component.subTree):128&e.shapeFlag?e.suspense.next():f(e.anchor||e.el),G=(e,t,n)=>{null==e?t._vnode&&B(t._vnode,null,null,!0):y(t._vnode||null,e,t,null,null,null,n),ti(),t._vnode=e},Y={p:y,um:B,m:U,r:V,mt:A,mc:x,pc:M,pbc:I,n:K,o:e};let $,J;return t&&([$,J]=t(Y)),{render:G,hydrate:$,createApp:wn(G,$)}}function Sn(e,t,n,i,o=!1){if(Object(r["n"])(e))return void e.forEach((e,s)=>Sn(e,t&&(Object(r["n"])(t)?t[s]:t),n,i,o));if(mt(i)&&!o)return;const s=4&i.shapeFlag?Sr(i.component)||i.component.proxy:i.el,a=o?null:s,{i:c,r:u}=e;const l=t&&t.r,h=c.refs===r["b"]?c.refs={}:c.refs,f=c.setupState;if(null!=l&&l!==u&&(Object(r["C"])(l)?(h[l]=null,Object(r["j"])(f,l)&&(f[l]=null)):Fe(l)&&(l.value=null)),Object(r["C"])(u)){const e=()=>{h[u]=a,Object(r["j"])(f,u)&&(f[u]=a)};a?(e.id=-1,On(e,n)):e()}else if(Fe(u)){const e=()=>{u.value=a};a?(e.id=-1,On(e,n)):e()}else Object(r["o"])(u)&&kr(u,c,12,[a,h])}function Tn(e,t,n,r=null){Ir(e,t,7,[n,r])}function xn(e,t,n=!1){const i=e.children,o=t.children;if(Object(r["n"])(i)&&Object(r["n"])(o))for(let r=0;r<i.length;r++){const e=i[r];let t=o[r];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=o[r]=nr(o[r]),t.el=e.el),n||xn(e,t))}}function kn(e){const t=e.slice(),n=[0];let r,i,o,s,a;const c=e.length;for(r=0;r<c;r++){const c=e[r];if(0!==c){if(i=n[n.length-1],e[i]<c){t[r]=i,n.push(r);continue}o=0,s=n.length-1;while(o<s)a=o+s>>1,e[n[a]]<c?o=a+1:s=a;c<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}o=n.length,s=n[o-1];while(o-- >0)n[o]=s,s=t[s];return n}const In=e=>e.__isTeleport;const Pn=Symbol();const Nn=Symbol(void 0),Rn=Symbol(void 0),An=Symbol(void 0),Dn=Symbol(void 0),Ln=[];let Fn=null;function Mn(e=!1){Ln.push(Fn=e?null:[])}function qn(){Ln.pop(),Fn=Ln[Ln.length-1]||null}let Wn=1;function Un(e){Wn+=e}function Bn(e){return e.dynamicChildren=Wn>0?Fn||r["a"]:null,qn(),Wn>0&&Fn&&Fn.push(e),e}function Vn(e,t,n,r,i,o){return Bn(Yn(e,t,n,r,i,o,!0))}function zn(e){return!!e&&!0===e.__v_isVNode}function Hn(e,t){return e.type===t.type&&e.key===t.key}const Qn="__vInternal",Kn=({key:e})=>null!=e?e:null,Gn=({ref:e})=>null!=e?Object(r["C"])(e)||Fe(e)||Object(r["o"])(e)?{i:Ye,r:e}:e:null;function Yn(e,t=null,n=null,i=0,o=null,s=(e===Nn?0:1),a=!1,c=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Kn(t),ref:t&&Gn(t),scopeId:$e,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null};return c?(rr(u,n),128&s&&e.normalize(u)):n&&(u.shapeFlag|=Object(r["C"])(n)?8:16),Wn>0&&!a&&Fn&&(u.patchFlag>0||6&s)&&32!==u.patchFlag&&Fn.push(u),u}const $n=Jn;function Jn(e,t=null,n=null,i=0,o=null,s=!1){if(e&&e!==Pn||(e=An),zn(e)){const r=Zn(e,t,!0);return n&&rr(r,n),r}if(xr(e)&&(e=e.__vccOpts),t){t=Xn(t);let{class:e,style:n}=t;e&&!Object(r["C"])(e)&&(t.class=Object(r["H"])(e)),Object(r["u"])(n)&&(Pe(n)&&!Object(r["n"])(n)&&(n=Object(r["h"])({},n)),t.style=Object(r["I"])(n))}const a=Object(r["C"])(e)?1:ot(e)?128:In(e)?64:Object(r["u"])(e)?4:Object(r["o"])(e)?2:0;return Yn(e,t,n,i,o,a,s,!0)}function Xn(e){return e?Pe(e)||Qn in e?Object(r["h"])({},e):e:null}function Zn(e,t,n=!1){const{props:i,ref:o,patchFlag:s,children:a}=e,c=t?ir(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Kn(c),ref:t&&t.ref?n&&o?Object(r["n"])(o)?o.concat(Gn(t)):[o,Gn(t)]:Gn(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Nn?-1===s?16:16|s:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Zn(e.ssContent),ssFallback:e.ssFallback&&Zn(e.ssFallback),el:e.el,anchor:e.anchor};return u}function er(e=" ",t=0){return $n(Rn,null,e,t)}function tr(e){return null==e||"boolean"===typeof e?$n(An):Object(r["n"])(e)?$n(Nn,null,e.slice()):"object"===typeof e?nr(e):$n(Rn,null,String(e))}function nr(e){return null===e.el||e.memo?e:Zn(e)}function rr(e,t){let n=0;const{shapeFlag:i}=e;if(null==t)t=null;else if(Object(r["n"])(t))n=16;else if("object"===typeof t){if(65&i){const n=t.default;return void(n&&(n._c&&(n._d=!1),rr(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||Qn in t?3===r&&Ye&&(1===Ye.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=Ye}}else Object(r["o"])(t)?(t={default:t,_ctx:Ye},n=32):(t=String(t),64&i?(n=16,t=[er(t)]):n=8);e.children=t,e.shapeFlag|=n}function ir(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const e in i)if("class"===e)t.class!==i.class&&(t.class=Object(r["H"])([t.class,i.class]));else if("style"===e)t.style=Object(r["I"])([t.style,i.style]);else if(Object(r["v"])(e)){const n=t[e],r=i[e];n!==r&&(t[e]=n?[].concat(n,r):r)}else""!==e&&(t[e]=i[e])}return t}function or(e,t,n,i){let o;const s=n&&n[i];if(Object(r["n"])(e)||Object(r["C"])(e)){o=new Array(e.length);for(let n=0,r=e.length;n<r;n++)o[n]=t(e[n],n,void 0,s&&s[n])}else if("number"===typeof e){0,o=new Array(e);for(let n=0;n<e;n++)o[n]=t(n+1,n,void 0,s&&s[n])}else if(Object(r["u"])(e))if(e[Symbol.iterator])o=Array.from(e,(e,n)=>t(e,n,void 0,s&&s[n]));else{const n=Object.keys(e);o=new Array(n.length);for(let r=0,i=n.length;r<i;r++){const i=n[r];o[r]=t(e[i],i,r,s&&s[r])}}else o=[];return n&&(n[i]=o),o}const sr=e=>e?yr(e)?Sr(e)||e.proxy:sr(e.parent):null,ar=Object(r["h"])(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>sr(e.parent),$root:e=>sr(e.root),$emit:e=>e.emit,$options:e=>Ht(e),$forceUpdate:e=>()=>Gr(e.update),$nextTick:e=>Qr.bind(e.proxy),$watch:e=>ai.bind(e)}),cr={get({_:e},t){const{ctx:n,setupState:i,data:o,props:s,accessCache:a,type:c,appContext:u}=e;let l;if("$"!==t[0]){const c=a[t];if(void 0!==c)switch(c){case 0:return i[t];case 1:return o[t];case 3:return n[t];case 2:return s[t]}else{if(i!==r["b"]&&Object(r["j"])(i,t))return a[t]=0,i[t];if(o!==r["b"]&&Object(r["j"])(o,t))return a[t]=1,o[t];if((l=e.propsOptions[0])&&Object(r["j"])(l,t))return a[t]=2,s[t];if(n!==r["b"]&&Object(r["j"])(n,t))return a[t]=3,n[t];Wt&&(a[t]=4)}}const h=ar[t];let f,p;return h?("$attrs"===t&&x(e,"get",t),h(e)):(f=c.__cssModules)&&(f=f[t])?f:n!==r["b"]&&Object(r["j"])(n,t)?(a[t]=3,n[t]):(p=u.config.globalProperties,Object(r["j"])(p,t)?p[t]:void 0)},set({_:e},t,n){const{data:i,setupState:o,ctx:s}=e;if(o!==r["b"]&&Object(r["j"])(o,t))o[t]=n;else if(i!==r["b"]&&Object(r["j"])(i,t))i[t]=n;else if(Object(r["j"])(e.props,t))return!1;return("$"!==t[0]||!(t.slice(1)in e))&&(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:o,propsOptions:s}},a){let c;return void 0!==n[a]||e!==r["b"]&&Object(r["j"])(e,a)||t!==r["b"]&&Object(r["j"])(t,a)||(c=s[0])&&Object(r["j"])(c,a)||Object(r["j"])(i,a)||Object(r["j"])(ar,a)||Object(r["j"])(o.config.globalProperties,a)}};const ur=mn();let lr=0;function hr(e,t,n){const i=e.type,o=(t?t.appContext:e.appContext)||ur,a={uid:lr++,vnode:e,type:i,parent:t,appContext:o,root:null,next:null,subTree:null,update:null,scope:new s(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:on(i,o),emitsOptions:Ke(i,o),emit:null,emitted:null,propsDefaults:r["b"],inheritAttrs:i.inheritAttrs,ctx:r["b"],data:r["b"],props:r["b"],attrs:r["b"],slots:r["b"],refs:r["b"],setupState:r["b"],setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=Qe.bind(null,a),e.ce&&e.ce(a),a}let fr=null;const pr=()=>fr||Ye,dr=e=>{fr=e,e.scope.on()},vr=()=>{fr&&fr.scope.off(),fr=null};function yr(e){return 4&e.vnode.shapeFlag}let _r,gr,mr=!1;function br(e,t=!1){mr=t;const{props:n,children:r}=e.vnode,i=yr(e);en(e,n,i,t),vn(e,r);const o=i?wr(e,t):void 0;return mr=!1,o}function wr(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Re(new Proxy(e.ctx,cr));const{setup:i}=n;if(i){const n=e.setupContext=i.length>1?Er(e):null;dr(e),E();const o=kr(i,e,0,[e.props,n]);if(T(),vr(),Object(r["x"])(o)){if(o.then(vr,vr),t)return o.then(n=>{Cr(e,n,t)}).catch(t=>{Pr(t,e,0)});e.asyncDep=o}else Cr(e,o,t)}else Or(e,t)}function Cr(e,t,n){Object(r["o"])(t)?e.render=t:Object(r["u"])(t)&&(e.setupState=Ve(t)),Or(e,n)}function Or(e,t,n){const i=e.type;if(!e.render){if(_r&&!i.render){const t=i.template;if(t){0;const{isCustomElement:n,compilerOptions:o}=e.appContext.config,{delimiters:s,compilerOptions:a}=i,c=Object(r["h"])(Object(r["h"])({isCustomElement:n,delimiters:s},o),a);i.render=_r(t,c)}}e.render=i.render||r["d"],gr&&gr(e)}dr(e),E(),Ut(e),T(),vr()}function jr(e){return new Proxy(e.attrs,{get(t,n){return x(e,"get","$attrs"),t[n]}})}function Er(e){const t=t=>{e.exposed=t||{}};let n;return{get attrs(){return n||(n=jr(e))},slots:e.slots,emit:e.emit,expose:t}}function Sr(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Ve(Re(e.exposed)),{get(t,n){return n in t?t[n]:n in ar?ar[n](e):void 0}}))}function Tr(e){return Object(r["o"])(e)&&e.displayName||e.name}function xr(e){return Object(r["o"])(e)&&"__vccOpts"in e}function kr(e,t,n,r){let i;try{i=r?e(...r):e()}catch(o){Pr(o,t,n)}return i}function Ir(e,t,n,i){if(Object(r["o"])(e)){const o=kr(e,t,n,i);return o&&Object(r["x"])(o)&&o.catch(e=>{Pr(e,t,n)}),o}const o=[];for(let r=0;r<e.length;r++)o.push(Ir(e[r],t,n,i));return o}function Pr(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let r=t.parent;const i=t.proxy,o=n;while(r){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,i,o))return;r=r.parent}const s=t.appContext.config.errorHandler;if(s)return void kr(s,null,10,[e,i,o])}Nr(e,n,i,r)}function Nr(e,t,n,r=!0){console.error(e)}let Rr=!1,Ar=!1;const Dr=[];let Lr=0;const Fr=[];let Mr=null,qr=0;const Wr=[];let Ur=null,Br=0;const Vr=Promise.resolve();let zr=null,Hr=null;function Qr(e){const t=zr||Vr;return e?t.then(this?e.bind(this):e):t}function Kr(e){let t=Lr+1,n=Dr.length;while(t<n){const r=t+n>>>1,i=ni(Dr[r]);i<e?t=r+1:n=r}return t}function Gr(e){Dr.length&&Dr.includes(e,Rr&&e.allowRecurse?Lr+1:Lr)||e===Hr||(null==e.id?Dr.push(e):Dr.splice(Kr(e.id),0,e),Yr())}function Yr(){Rr||Ar||(Ar=!0,zr=Vr.then(ri))}function $r(e){const t=Dr.indexOf(e);t>Lr&&Dr.splice(t,1)}function Jr(e,t,n,i){Object(r["n"])(e)?n.push(...e):t&&t.includes(e,e.allowRecurse?i+1:i)||n.push(e),Yr()}function Xr(e){Jr(e,Mr,Fr,qr)}function Zr(e){Jr(e,Ur,Wr,Br)}function ei(e,t=null){if(Fr.length){for(Hr=t,Mr=[...new Set(Fr)],Fr.length=0,qr=0;qr<Mr.length;qr++)Mr[qr]();Mr=null,qr=0,Hr=null,ei(e,t)}}function ti(e){if(Wr.length){const e=[...new Set(Wr)];if(Wr.length=0,Ur)return void Ur.push(...e);for(Ur=e,Ur.sort((e,t)=>ni(e)-ni(t)),Br=0;Br<Ur.length;Br++)Ur[Br]();Ur=null,Br=0}}const ni=e=>null==e.id?1/0:e.id;function ri(e){Ar=!1,Rr=!0,ei(e),Dr.sort((e,t)=>ni(e)-ni(t));try{for(Lr=0;Lr<Dr.length;Lr++){const e=Dr[Lr];e&&!1!==e.active&&kr(e,null,14)}}finally{Lr=0,Dr.length=0,ti(e),Rr=!1,zr=null,(Dr.length||Fr.length||Wr.length)&&ri(e)}}const ii={};function oi(e,t,n){return si(e,t,n)}function si(e,t,{immediate:n,deep:i,flush:o,onTrack:s,onTrigger:a}=r["b"]){const c=fr;let u,l,h=!1,f=!1;if(Fe(e)?(u=()=>e.value,h=!!e._shallow):ke(e)?(u=()=>e,i=!0):Object(r["n"])(e)?(f=!0,h=e.some(ke),u=()=>e.map(e=>Fe(e)?e.value:ke(e)?ui(e):Object(r["o"])(e)?kr(e,c,2):void 0)):u=Object(r["o"])(e)?t?()=>kr(e,c,2):()=>{if(!c||!c.isUnmounted)return l&&l(),Ir(e,c,3,[p])}:r["d"],t&&i){const e=u;u=()=>ui(e())}let p=e=>{l=_.onStop=()=>{kr(e,c,4)}},d=f?[]:ii;const v=()=>{if(_.active)if(t){const e=_.run();(i||h||(f?e.some((e,t)=>Object(r["i"])(e,d[t])):Object(r["i"])(e,d)))&&(l&&l(),Ir(t,c,3,[e,d===ii?void 0:d,p]),d=e)}else _.run()};let y;v.allowRecurse=!!t,y="sync"===o?v:"post"===o?()=>On(v,c&&c.suspense):()=>{!c||c.isMounted?Xr(v):v()};const _=new w(u,y);return t?n?v():d=_.run():"post"===o?On(_.run.bind(_),c&&c.suspense):_.run(),()=>{_.stop(),c&&c.scope&&Object(r["J"])(c.scope.effects,_)}}function ai(e,t,n){const i=this.proxy,o=Object(r["C"])(e)?e.includes(".")?ci(i,e):()=>i[e]:e.bind(i,i);let s;Object(r["o"])(t)?s=t:(s=t.handler,n=t);const a=fr;dr(this);const c=si(o,s.bind(i),n);return a?dr(a):vr(),c}function ci(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function ui(e,t=new Set){if(!Object(r["u"])(e)||e["__v_skip"])return e;if(t=t||new Set,t.has(e))return e;if(t.add(e),Fe(e))ui(e.value,t);else if(Object(r["n"])(e))for(let n=0;n<e.length;n++)ui(e[n],t);else if(Object(r["A"])(e)||Object(r["s"])(e))e.forEach(e=>{ui(e,t)});else if(Object(r["w"])(e))for(const n in e)ui(e[n],t);return e}function li(e,t,n){const i=arguments.length;return 2===i?Object(r["u"])(t)&&!Object(r["n"])(t)?zn(t)?$n(e,null,[t]):$n(e,t):$n(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):3===i&&zn(n)&&(n=[n]),$n(e,t,n))}Symbol("");const hi="3.2.8",fi="http://www.w3.org/2000/svg",pi="undefined"!==typeof document?document:null,di=new Map,vi={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?pi.createElementNS(fi,e):pi.createElement(e,n?{is:n}:void 0);return"select"===e&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:e=>pi.createTextNode(e),createComment:e=>pi.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>pi.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r){const i=n?n.previousSibling:t.lastChild;let o=di.get(e);if(!o){const t=pi.createElement("template");if(t.innerHTML=r?`<svg>${e}</svg>`:e,o=t.content,r){const e=o.firstChild;while(e.firstChild)o.appendChild(e.firstChild);o.removeChild(e)}di.set(e,o)}return t.insertBefore(o.cloneNode(!0),n),[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function yi(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function _i(e,t,n){const i=e.style;if(n)if(Object(r["C"])(n)){if(t!==n){const t=i.display;i.cssText=n,"_vod"in e&&(i.display=t)}}else{for(const e in n)mi(i,e,n[e]);if(t&&!Object(r["C"])(t))for(const e in t)null==n[e]&&mi(i,e,"")}else e.removeAttribute("style")}const gi=/\s*!important$/;function mi(e,t,n){if(Object(r["n"])(n))n.forEach(n=>mi(e,t,n));else if(t.startsWith("--"))e.setProperty(t,n);else{const i=Ci(e,t);gi.test(n)?e.setProperty(Object(r["k"])(i),n.replace(gi,""),"important"):e[i]=n}}const bi=["Webkit","Moz","ms"],wi={};function Ci(e,t){const n=wi[t];if(n)return n;let i=Object(r["e"])(t);if("filter"!==i&&i in e)return wi[t]=i;i=Object(r["f"])(i);for(let r=0;r<bi.length;r++){const n=bi[r]+i;if(n in e)return wi[t]=n}return t}const Oi="http://www.w3.org/1999/xlink";function ji(e,t,n,i,o){if(i&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(Oi,t.slice(6,t.length)):e.setAttributeNS(Oi,t,n);else{const i=Object(r["B"])(t);null==n||i&&!Object(r["l"])(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function Ei(e,t,n,i,o,s,a){if("innerHTML"===t||"textContent"===t)return i&&a(i,o,s),void(e[t]=null==n?"":n);if("value"===t&&"PROGRESS"!==e.tagName){e._value=n;const r=null==n?"":n;return e.value!==r&&(e.value=r),void(null==n&&e.removeAttribute(t))}if(""===n||null==n){const i=typeof e[t];if("boolean"===i)return void(e[t]=Object(r["l"])(n));if(null==n&&"string"===i)return e[t]="",void e.removeAttribute(t);if("number"===i){try{e[t]=0}catch(c){}return void e.removeAttribute(t)}}try{e[t]=n}catch(u){0}}let Si=Date.now,Ti=!1;if("undefined"!==typeof window){Si()>document.createEvent("Event").timeStamp&&(Si=()=>performance.now());const e=navigator.userAgent.match(/firefox\/(\d+)/i);Ti=!!(e&&Number(e[1])<=53)}let xi=0;const ki=Promise.resolve(),Ii=()=>{xi=0},Pi=()=>xi||(ki.then(Ii),xi=Si());function Ni(e,t,n,r){e.addEventListener(t,n,r)}function Ri(e,t,n,r){e.removeEventListener(t,n,r)}function Ai(e,t,n,r,i=null){const o=e._vei||(e._vei={}),s=o[t];if(r&&s)s.value=r;else{const[n,a]=Li(t);if(r){const s=o[t]=Fi(r,i);Ni(e,n,s,a)}else s&&(Ri(e,n,s,a),o[t]=void 0)}}const Di=/(?:Once|Passive|Capture)$/;function Li(e){let t;if(Di.test(e)){let n;t={};while(n=e.match(Di))e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[Object(r["k"])(e.slice(2)),t]}function Fi(e,t){const n=e=>{const r=e.timeStamp||Si();(Ti||r>=n.attached-1)&&Ir(Mi(e,n.value),t,5,[e])};return n.value=e,n.attached=Pi(),n}function Mi(e,t){if(Object(r["n"])(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(e=>t=>!t._stopped&&e(t))}return t}const qi=/^on[a-z]/,Wi=(e,t,n,i,o=!1,s,a,c,u)=>{"class"===t?yi(e,i,o):"style"===t?_i(e,n,i):Object(r["v"])(t)?Object(r["t"])(t)||Ai(e,t,n,i,a):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):Ui(e,t,i,o))?Ei(e,t,i,s,a,c,u):("true-value"===t?e._trueValue=i:"false-value"===t&&(e._falseValue=i),ji(e,t,i,o))};function Ui(e,t,n,i){return i?"innerHTML"===t||"textContent"===t||!!(t in e&&qi.test(t)&&Object(r["o"])(n)):"spellcheck"!==t&&"draggable"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!qi.test(t)||!Object(r["C"])(n))&&t in e))))}"undefined"!==typeof HTMLElement&&HTMLElement;const Bi="transition",Vi="animation",zi=(e,{slots:t})=>li(ft,Gi(e),t);zi.displayName="Transition";const Hi={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Qi=(zi.props=Object(r["h"])({},ft.props,Hi),(e,t=[])=>{Object(r["n"])(e)?e.forEach(e=>e(...t)):e&&e(...t)}),Ki=e=>!!e&&(Object(r["n"])(e)?e.some(e=>e.length>1):e.length>1);function Gi(e){const t={};for(const r in e)r in Hi||(t[r]=e[r]);if(!1===e.css)return t;const{name:n="v",type:i,duration:o,enterFromClass:s=n+"-enter-from",enterActiveClass:a=n+"-enter-active",enterToClass:c=n+"-enter-to",appearFromClass:u=s,appearActiveClass:l=a,appearToClass:h=c,leaveFromClass:f=n+"-leave-from",leaveActiveClass:p=n+"-leave-active",leaveToClass:d=n+"-leave-to"}=e,v=Yi(o),y=v&&v[0],_=v&&v[1],{onBeforeEnter:g,onEnter:m,onEnterCancelled:b,onLeave:w,onLeaveCancelled:C,onBeforeAppear:O=g,onAppear:j=m,onAppearCancelled:E=b}=t,S=(e,t,n)=>{Xi(e,t?h:c),Xi(e,t?l:a),n&&n()},T=(e,t)=>{Xi(e,d),Xi(e,p),t&&t()},x=e=>(t,n)=>{const r=e?j:m,o=()=>S(t,e,n);Qi(r,[t,o]),Zi(()=>{Xi(t,e?u:s),Ji(t,e?h:c),Ki(r)||to(t,i,y,o)})};return Object(r["h"])(t,{onBeforeEnter(e){Qi(g,[e]),Ji(e,s),Ji(e,a)},onBeforeAppear(e){Qi(O,[e]),Ji(e,u),Ji(e,l)},onEnter:x(!1),onAppear:x(!0),onLeave(e,t){const n=()=>T(e,t);Ji(e,f),oo(),Ji(e,p),Zi(()=>{Xi(e,f),Ji(e,d),Ki(w)||to(e,i,_,n)}),Qi(w,[e,n])},onEnterCancelled(e){S(e,!1),Qi(b,[e])},onAppearCancelled(e){S(e,!0),Qi(E,[e])},onLeaveCancelled(e){T(e),Qi(C,[e])}})}function Yi(e){if(null==e)return null;if(Object(r["u"])(e))return[$i(e.enter),$i(e.leave)];{const t=$i(e);return[t,t]}}function $i(e){const t=Object(r["M"])(e);return t}function Ji(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.add(t)),(e._vtc||(e._vtc=new Set)).add(t)}function Xi(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.remove(t));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function Zi(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let eo=0;function to(e,t,n,r){const i=e._endId=++eo,o=()=>{i===e._endId&&r()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:c}=no(e,t);if(!s)return r();const u=s+"end";let l=0;const h=()=>{e.removeEventListener(u,f),o()},f=t=>{t.target===e&&++l>=c&&h()};setTimeout(()=>{l<c&&h()},a+1),e.addEventListener(u,f)}function no(e,t){const n=window.getComputedStyle(e),r=e=>(n[e]||"").split(", "),i=r(Bi+"Delay"),o=r(Bi+"Duration"),s=ro(i,o),a=r(Vi+"Delay"),c=r(Vi+"Duration"),u=ro(a,c);let l=null,h=0,f=0;t===Bi?s>0&&(l=Bi,h=s,f=o.length):t===Vi?u>0&&(l=Vi,h=u,f=c.length):(h=Math.max(s,u),l=h>0?s>u?Bi:Vi:null,f=l?l===Bi?o.length:c.length:0);const p=l===Bi&&/\b(transform|all)(,|$)/.test(n[Bi+"Property"]);return{type:l,timeout:h,propCount:f,hasTransform:p}}function ro(e,t){while(e.length<t.length)e=e.concat(e);return Math.max(...t.map((t,n)=>io(t)+io(e[n])))}function io(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function oo(){return document.body.offsetHeight}new WeakMap,new WeakMap;const so=e=>{const t=e.props["onUpdate:modelValue"];return Object(r["n"])(t)?e=>Object(r["m"])(t,e):t};function ao(e){e.target.composing=!0}function co(e){const t=e.target;t.composing&&(t.composing=!1,uo(t,"input"))}function uo(e,t){const n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}const lo={created(e,{modifiers:{lazy:t,trim:n,number:i}},o){e._assign=so(o);const s=i||o.props&&"number"===o.props.type;Ni(e,t?"change":"input",t=>{if(t.target.composing)return;let i=e.value;n?i=i.trim():s&&(i=Object(r["M"])(i)),e._assign(i)}),n&&Ni(e,"change",()=>{e.value=e.value.trim()}),t||(Ni(e,"compositionstart",ao),Ni(e,"compositionend",co),Ni(e,"change",co))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:o}},s){if(e._assign=so(s),e.composing)return;if(document.activeElement===e){if(n)return;if(i&&e.value.trim()===t)return;if((o||"number"===e.type)&&Object(r["M"])(e.value)===t)return}const a=null==t?"":t;e.value!==a&&(e.value=a)}};const ho=["ctrl","shift","alt","meta"],fo={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>ho.some(n=>e[n+"Key"]&&!t.includes(n))},po=(e,t)=>(n,...r)=>{for(let e=0;e<t.length;e++){const r=fo[t[e]];if(r&&r(n,t))return}return e(n,...r)};const vo=Object(r["h"])({patchProp:Wi},vi);let yo;function _o(){return yo||(yo=jn(vo))}const go=(...e)=>{const t=_o().createApp(...e);const{mount:n}=t;return t.mount=e=>{const i=mo(e);if(!i)return;const o=t._component;Object(r["o"])(o)||o.render||o.template||(o.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t};function mo(e){if(Object(r["C"])(e)){const t=document.querySelector(e);return t}return e}},"7b0b":function(e,t,n){var r=n("1d80");e.exports=function(e){return Object(r(e))}},"7c73":function(e,t,n){var r,i=n("825a"),o=n("37e8"),s=n("7839"),a=n("d012"),c=n("1be4"),u=n("cc12"),l=n("f772"),h=">",f="<",p="prototype",d="script",v=l("IE_PROTO"),y=function(){},_=function(e){return f+d+h+e+f+"/"+d+h},g=function(e){e.write(_("")),e.close();var t=e.parentWindow.Object;return e=null,t},m=function(){var e,t=u("iframe"),n="java"+d+":";return t.style.display="none",c.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(_("document.F=Object")),e.close(),e.F},b=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}b="undefined"!=typeof document?document.domain&&r?g(r):m():g(r);var e=s.length;while(e--)delete b[p][s[e]];return b()};a[v]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(y[p]=i(e),n=new y,y[p]=null,n[v]=e):n=b(),void 0===t?n:o(n,t)}},"7dd0":function(e,t,n){"use strict";var r=n("23e7"),i=n("9ed3"),o=n("e163"),s=n("d2bb"),a=n("d44e"),c=n("9112"),u=n("6eeb"),l=n("b622"),h=n("c430"),f=n("3f8c"),p=n("ae93"),d=p.IteratorPrototype,v=p.BUGGY_SAFARI_ITERATORS,y=l("iterator"),_="keys",g="values",m="entries",b=function(){return this};e.exports=function(e,t,n,l,p,w,C){i(n,t,l);var O,j,E,S=function(e){if(e===p&&P)return P;if(!v&&e in k)return k[e];switch(e){case _:return function(){return new n(this,e)};case g:return function(){return new n(this,e)};case m:return function(){return new n(this,e)}}return function(){return new n(this)}},T=t+" Iterator",x=!1,k=e.prototype,I=k[y]||k["@@iterator"]||p&&k[p],P=!v&&I||S(p),N="Array"==t&&k.entries||I;if(N&&(O=o(N.call(new e)),d!==Object.prototype&&O.next&&(h||o(O)===d||(s?s(O,d):"function"!=typeof O[y]&&c(O,y,b)),a(O,T,!0,!0),h&&(f[T]=b))),p==g&&I&&I.name!==g&&(x=!0,P=function(){return I.call(this)}),h&&!C||k[y]===P||c(k,y,P),f[t]=P,p)if(j={values:S(g),keys:w?P:S(_),entries:S(m)},C)for(E in j)(v||x||!(E in k))&&u(k,E,j[E]);else r({target:t,proto:!0,forced:v||x},j);return j}},"7f9a":function(e,t,n){var r=n("da84"),i=n("8925"),o=r.WeakMap;e.exports="function"===typeof o&&/native code/.test(i(o))},"825a":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},"83ab":function(e,t,n){var r=n("d039");e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"861d":function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},8925:function(e,t,n){var r=n("c6cd"),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},"90e3":function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},9112:function(e,t,n){var r=n("83ab"),i=n("9bf2"),o=n("5c6c");e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},"94ca":function(e,t,n){var r=n("d039"),i=/#|\.prototype\./,o=function(e,t){var n=a[s(e)];return n==u||n!=c&&("function"==typeof t?r(t):!!t)},s=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},a=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},"9a1f":function(e,t,n){var r=n("825a"),i=n("35a1");e.exports=function(e,t){var n=arguments.length<2?i(e):t;if("function"!=typeof n)throw TypeError(String(e)+" is not iterable");return r(n.call(e))}},"9ab4":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"g",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return l}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r["throw"](e))}catch(t){o(t)}}function c(e){e.done?n(e.value):i(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function a(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return c([e,t])}}function c(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}Object.create;function c(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{while((void 0===t||t-- >0)&&!(r=o.next()).done)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return s}function l(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create},"9bf2":function(e,t,n){var r=n("83ab"),i=n("0cfb"),o=n("825a"),s=n("a04b"),a=Object.defineProperty;t.f=r?a:function(e,t,n){if(o(e),t=s(t),o(n),i)try{return a(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"9ed3":function(e,t,n){"use strict";var r=n("ae93").IteratorPrototype,i=n("7c73"),o=n("5c6c"),s=n("d44e"),a=n("3f8c"),c=function(){return this};e.exports=function(e,t,n){var u=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),s(e,u,!1,!0),a[u]=c,e}},"9ff4":function(e,t,n){"use strict";(function(e){function r(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return S})),n.d(t,"d",(function(){return E})),n.d(t,"e",(function(){return J})),n.d(t,"f",(function(){return ee})),n.d(t,"g",(function(){return ie})),n.d(t,"h",(function(){return I})),n.d(t,"i",(function(){return ne})),n.d(t,"j",(function(){return R})),n.d(t,"k",(function(){return Z})),n.d(t,"l",(function(){return c})),n.d(t,"m",(function(){return re})),n.d(t,"n",(function(){return A})),n.d(t,"o",(function(){return M})),n.d(t,"p",(function(){return o})),n.d(t,"q",(function(){return y})),n.d(t,"r",(function(){return K})),n.d(t,"s",(function(){return D})),n.d(t,"t",(function(){return k})),n.d(t,"u",(function(){return U})),n.d(t,"v",(function(){return x})),n.d(t,"w",(function(){return Q})),n.d(t,"x",(function(){return B})),n.d(t,"y",(function(){return G})),n.d(t,"z",(function(){return _})),n.d(t,"A",(function(){return L})),n.d(t,"B",(function(){return a})),n.d(t,"C",(function(){return q})),n.d(t,"D",(function(){return W})),n.d(t,"E",(function(){return m})),n.d(t,"F",(function(){return b})),n.d(t,"G",(function(){return r})),n.d(t,"H",(function(){return p})),n.d(t,"I",(function(){return u})),n.d(t,"J",(function(){return P})),n.d(t,"K",(function(){return w})),n.d(t,"L",(function(){return te})),n.d(t,"M",(function(){return oe})),n.d(t,"N",(function(){return H}));const i="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",o=r(i);const s="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",a=r(s);function c(e){return!!e||""===e}function u(e){if(A(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=q(r)?f(r):u(r);if(i)for(const e in i)t[e]=i[e]}return t}return q(e)||U(e)?e:void 0}const l=/;(?![^(]*\))/g,h=/:(.+)/;function f(e){const t={};return e.split(l).forEach(e=>{if(e){const n=e.split(h);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function p(e){let t="";if(q(e))t=e;else if(A(e))for(let n=0;n<e.length;n++){const r=p(e[n]);r&&(t+=r+" ")}else if(U(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const d="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",v="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",y=r(d),_=r(v);function g(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=m(e[r],t[r]);return n}function m(e,t){if(e===t)return!0;let n=F(e),r=F(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=A(e),r=A(t),n||r)return!(!n||!r)&&g(e,t);if(n=U(e),r=U(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const n in e){const r=e.hasOwnProperty(n),i=t.hasOwnProperty(n);if(r&&!i||!r&&i||!m(e[n],t[n]))return!1}}return String(e)===String(t)}function b(e,t){return e.findIndex(e=>m(e,t))}const w=e=>null==e?"":A(e)||U(e)&&(e.toString===V||!M(e.toString))?JSON.stringify(e,C,2):String(e),C=(e,t)=>t&&t.__v_isRef?C(e,t.value):D(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[t,n])=>(e[t+" =>"]=n,e),{})}:L(t)?{[`Set(${t.size})`]:[...t.values()]}:!U(t)||A(t)||Q(t)?t:String(t),O={},j=[],E=()=>{},S=()=>!1,T=/^on[^a-z]/,x=e=>T.test(e),k=e=>e.startsWith("onUpdate:"),I=Object.assign,P=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},N=Object.prototype.hasOwnProperty,R=(e,t)=>N.call(e,t),A=Array.isArray,D=e=>"[object Map]"===z(e),L=e=>"[object Set]"===z(e),F=e=>e instanceof Date,M=e=>"function"===typeof e,q=e=>"string"===typeof e,W=e=>"symbol"===typeof e,U=e=>null!==e&&"object"===typeof e,B=e=>U(e)&&M(e.then)&&M(e.catch),V=Object.prototype.toString,z=e=>V.call(e),H=e=>z(e).slice(8,-1),Q=e=>"[object Object]"===z(e),K=e=>q(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,G=r(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Y=e=>{const t=Object.create(null);return n=>{const r=t[n];return r||(t[n]=e(n))}},$=/-(\w)/g,J=Y(e=>e.replace($,(e,t)=>t?t.toUpperCase():"")),X=/\B([A-Z])/g,Z=Y(e=>e.replace(X,"-$1").toLowerCase()),ee=Y(e=>e.charAt(0).toUpperCase()+e.slice(1)),te=Y(e=>e?"on"+ee(e):""),ne=(e,t)=>!Object.is(e,t),re=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},ie=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},oe=e=>{const t=parseFloat(e);return isNaN(t)?e:t}}).call(this,n("c8ba"))},a04b:function(e,t,n){var r=n("c04e"),i=n("d9b5");e.exports=function(e){var t=r(e,"string");return i(t)?t:String(t)}},a4b4:function(e,t,n){var r=n("342f");e.exports=/web0s(?!.*chrome)/i.test(r)},a640:function(e,t,n){"use strict";var r=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},a691:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},a79d:function(e,t,n){"use strict";var r=n("23e7"),i=n("c430"),o=n("fea9"),s=n("d039"),a=n("d066"),c=n("4840"),u=n("cdf9"),l=n("6eeb"),h=!!o&&s((function(){o.prototype["finally"].call({then:function(){}},(function(){}))}));if(r({target:"Promise",proto:!0,real:!0,forced:h},{finally:function(e){var t=c(this,a("Promise")),n="function"==typeof e;return this.then(n?function(n){return u(t,e()).then((function(){return n}))}:e,n?function(n){return u(t,e()).then((function(){throw n}))}:e)}}),!i&&"function"==typeof o){var f=a("Promise").prototype["finally"];o.prototype["finally"]!==f&&l(o.prototype,"finally",f,{unsafe:!0})}},a8e9:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return q})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return A})),n.d(t,"i",(function(){return _})),n.d(t,"j",(function(){return W})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return d})),n.d(t,"m",(function(){return H})),n.d(t,"n",(function(){return $})),n.d(t,"o",(function(){return R})),n.d(t,"p",(function(){return w})),n.d(t,"q",(function(){return L})),n.d(t,"r",(function(){return m})),n.d(t,"s",(function(){return b})),n.d(t,"t",(function(){return O})),n.d(t,"u",(function(){return C})),n.d(t,"v",(function(){return N})),n.d(t,"w",(function(){return k})),n.d(t,"x",(function(){return F})),n.d(t,"y",(function(){return M})),n.d(t,"z",(function(){return D})),n.d(t,"A",(function(){return Y})),n.d(t,"B",(function(){return G})),n.d(t,"C",(function(){return I})),n.d(t,"D",(function(){return z})),n.d(t,"E",(function(){return Q})),n.d(t,"F",(function(){return K}));var r=n("9ab4"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw s(t)},s=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},a=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},c=function(e){var t=[],n=0,r=0;while(n<e.length){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){o=e[n++];var s=e[n++],a=e[n++],c=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&a)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(1023&c))}else{o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],s=i+1<e.length,a=s?e[i+1]:0,c=i+2<e.length,u=c?e[i+2]:0,l=o>>2,h=(3&o)<<4|a>>4,f=(15&a)<<2|u>>6,p=63&u;c||(p=64,s||(f=64)),r.push(n[l],n[h],n[f],n[p])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(a(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):c(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],s=i<e.length,a=s?n[e.charAt(i)]:0;++i;var c=i<e.length,u=c?n[e.charAt(i)]:64;++i;var l=i<e.length,h=l?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==h)throw Error();var f=o<<2|a>>4;if(r.push(f),64!==u){var p=a<<4&240|u>>2;if(r.push(p),64!==h){var d=u<<6&192|h;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},l=function(e){var t=a(e);return u.encodeByteArray(t,!0)},h=function(e){return l(e).replace(/\./g,"")},f=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function p(e){return d(void 0,e)}function d(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)t.hasOwnProperty(r)&&v(r)&&(e[r]=d(e[r],t[r]));return e}function v(e){return"__proto__"!==e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r["a"])({iss:"https://securetoken.google.com/"+i,aud:i,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),c="";return[h(JSON.stringify(n)),h(JSON.stringify(a)),c].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function m(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function b(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}}function w(){return"object"===typeof self&&self.self===self}function C(){return"object"===typeof navigator&&"ReactNative"===navigator["product"]}function O(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var j="FirebaseError",E=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name=j,Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,S.prototype.create),o}return Object(r["c"])(t,e),t}(Error),S=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],s=o?T(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",c=new E(i,a,r);return c},e}();function T(e,t){return e.replace(x,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var x=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k(e){return JSON.parse(e)}function I(e){return JSON.stringify(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=k(f(o[0])||""),n=k(f(o[1])||""),i=o[2],r=n["d"]||{},delete n["d"]}catch(s){}return{header:t,claims:n,data:r,signature:i}},N=function(e){var t=P(e),n=t.claims;return!!n&&"object"===typeof n&&n.hasOwnProperty("iat")},R=function(e){var t=P(e).claims;return"object"===typeof t&&!0===t["admin"]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function L(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function F(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function M(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r],s=o[0],a=o[1];n(s,a)}return t.length?"&"+t.join("&"):""}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var q=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],c=this.chain_[1],u=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^c&(u^l),s=1518500249):(o=c^u^l,s=1859775393):r<60?(o=c&u|l&(c|u),s=2400959708):(o=c^u^l,s=3395469782);i=(a<<5|a>>>27)+o+h+s+n[r]&4294967295;h=l,l=u,u=4294967295&(c<<30|c>>>2),c=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;while(r<t){if(0===o)while(r<=n)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){while(r<t)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else while(r<t)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function W(e,t){var n=new U(e,t);return n.subscribe.bind(n)}var U=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=B(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=V),void 0===r.error&&(r.error=V),void 0===r.complete&&(r.complete=V);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function B(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}function V(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i){var o=e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}};function H(e,t){return e+" failed: "+t+" argument "}function Q(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(H(e,t)+"must be a valid function.")}function K(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(H(e,t)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var G=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,o(r<e.length,"Surrogate pair missing trail surrogate.");var a=e.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Y=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function $(e){return e&&e._delegate?e._delegate:e}}).call(this,n("c8ba"))},abfd:function(e,t,n){"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i;n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return p}));var o,s=[];(function(e){e[e["DEBUG"]=0]="DEBUG",e[e["VERBOSE"]=1]="VERBOSE",e[e["INFO"]=2]="INFO",e[e["WARN"]=3]="WARN",e[e["ERROR"]=4]="ERROR",e[e["SILENT"]=5]="SILENT"})(o||(o={}));var a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},c=o.INFO,u=(i={},i[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),s=u[t];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[s].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?a[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function f(e){s.forEach((function(t){t.setLogLevel(e)}))}function p(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=a[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=s;r<i.length;r++){var c=i[r];n(c)}}},ae93:function(e,t,n){"use strict";var r,i,o,s=n("d039"),a=n("e163"),c=n("9112"),u=n("5135"),l=n("b622"),h=n("c430"),f=l("iterator"),p=!1,d=function(){return this};[].keys&&(o=[].keys(),"next"in o?(i=a(a(o)),i!==Object.prototype&&(r=i)):p=!0);var v=void 0==r||s((function(){var e={};return r[f].call(e)!==e}));v&&(r={}),h&&!v||u(r,f)||c(r,f,d),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},b575:function(e,t,n){var r,i,o,s,a,c,u,l,h=n("da84"),f=n("06cf").f,p=n("2cf4").set,d=n("1cdc"),v=n("d4c3"),y=n("a4b4"),_=n("605d"),g=h.MutationObserver||h.WebKitMutationObserver,m=h.document,b=h.process,w=h.Promise,C=f(h,"queueMicrotask"),O=C&&C.value;O||(r=function(){var e,t;_&&(e=b.domain)&&e.exit();while(i){t=i.fn,i=i.next;try{t()}catch(n){throw i?s():o=void 0,n}}o=void 0,e&&e.enter()},d||_||y||!g||!m?!v&&w&&w.resolve?(u=w.resolve(void 0),u.constructor=w,l=u.then,s=function(){l.call(u,r)}):s=_?function(){b.nextTick(r)}:function(){p.call(h,r)}:(a=!0,c=m.createTextNode(""),new g(r).observe(c,{characterData:!0}),s=function(){c.data=a=!a})),e.exports=O||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,s()),o=t}},b622:function(e,t,n){var r=n("da84"),i=n("5692"),o=n("5135"),s=n("90e3"),a=n("4930"),c=n("fdbf"),u=i("wks"),l=r.Symbol,h=c?l:l&&l.withoutSetter||s;e.exports=function(e){return o(u,e)&&(a||"string"==typeof u[e])||(a&&o(l,e)?u[e]=l[e]:u[e]=h("Symbol."+e)),u[e]}},b64b:function(e,t,n){var r=n("23e7"),i=n("7b0b"),o=n("df75"),s=n("d039"),a=s((function(){o(1)}));r({target:"Object",stat:!0,forced:a},{keys:function(e){return o(i(e))}})},b727:function(e,t,n){var r=n("0366"),i=n("44ad"),o=n("7b0b"),s=n("50c4"),a=n("65f0"),c=[].push,u=function(e){var t=1==e,n=2==e,u=3==e,l=4==e,h=6==e,f=7==e,p=5==e||h;return function(d,v,y,_){for(var g,m,b=o(d),w=i(b),C=r(v,y,3),O=s(w.length),j=0,E=_||a,S=t?E(d,O):n||f?E(d,0):void 0;O>j;j++)if((p||j in w)&&(g=w[j],m=C(g,j,b),e))if(t)S[j]=m;else if(m)switch(e){case 3:return!0;case 5:return g;case 6:return j;case 2:c.call(S,g)}else switch(e){case 4:return!1;case 7:c.call(S,g)}return h?-1:u||l?l:S}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},c04e:function(e,t,n){var r=n("861d"),i=n("d9b5"),o=n("485a"),s=n("b622"),a=s("toPrimitive");e.exports=function(e,t){if(!r(e)||i(e))return e;var n,s=e[a];if(void 0!==s){if(void 0===t&&(t="default"),n=s.call(e,t),!r(n)||i(n))return n;throw TypeError("Can't convert object to primitive value")}return void 0===t&&(t="number"),o(e,t)}},c430:function(e,t){e.exports=!1},c6b6:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},c6cd:function(e,t,n){var r=n("da84"),i=n("ce4e"),o="__core-js_shared__",s=r[o]||i(o,{});e.exports=s},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},ca84:function(e,t,n){var r=n("5135"),i=n("fc6a"),o=n("4d64").indexOf,s=n("d012");e.exports=function(e,t){var n,a=i(e),c=0,u=[];for(n in a)!r(s,n)&&r(a,n)&&u.push(n);while(t.length>c)r(a,n=t[c++])&&(~o(u,n)||u.push(n));return u}},cc12:function(e,t,n){var r=n("da84"),i=n("861d"),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},cc84:function(e,t,n){"use strict";var r,i,o=n("9ab4"),s=n("a8e9"),a=n("ffa6"),c=n("abfd"),u=(r={},r["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s["b"]("app","Firebase",u),h="@firebase/app",f="0.6.30",p="@firebase/analytics",d="@firebase/app-check",v="@firebase/auth",y="@firebase/database",_="@firebase/functions",g="@firebase/installations",m="@firebase/messaging",b="@firebase/performance",w="@firebase/remote-config",C="@firebase/storage",O="@firebase/firestore",j="firebase-wrapper",E="[DEFAULT]",S=(i={},i[h]="fire-core",i[p]="fire-analytics",i[d]="fire-app-check",i[v]="fire-auth",i[y]="fire-rtdb",i[_]="fire-fn",i[g]="fire-iid",i[m]="fire-fcm",i[b]="fire-perf",i[w]="fire-rc",i[C]="fire-gcs",i[O]="fire-fst",i["fire-js"]="fire-js",i[j]="fire-js-all",i),T=new c["b"]("@firebase/app"),x=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Object(s["k"])(e),this.container=new a["b"](t.name),this._addComponent(new a["a"]("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=E),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=E),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){T.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();x.prototype.name&&x.prototype.options||x.prototype.delete||console.log("dc");var k="8.10.0";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I(e){var t={},n=new Map,r={__esModule:!0,initializeApp:u,app:o,registerVersion:p,setLogLevel:c["c"],onLog:d,apps:null,SDK_VERSION:k,INTERNAL:{registerComponent:f,removeApp:i,components:n,useAsService:v}};function i(e){delete t[e]}function o(e){if(e=e||E,!Object(s["h"])(t,e))throw l.create("no-app",{appName:e});return t[e]}function u(n,i){if(void 0===i&&(i={}),"object"!==typeof i||null===i){var o=i;i={name:o}}var a=i;void 0===a.name&&(a.name=E);var c=a.name;if("string"!==typeof c||!c)throw l.create("bad-app-name",{appName:String(c)});if(Object(s["h"])(t,c))throw l.create("duplicate-app",{appName:c});var u=new e(n,a,r);return t[c]=u,u}function h(){return Object.keys(t).map((function(e){return t[e]}))}function f(i){var a=i.name;if(n.has(a))return T.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===i.type?r[a]:null;if(n.set(a,i),"PUBLIC"===i.type){var c=function(e){if(void 0===e&&(e=o()),"function"!==typeof e[a])throw l.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==i.serviceProps&&Object(s["l"])(c,i.serviceProps),r[a]=c,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,a);return n.apply(this,i.multipleInstances?e:[])}}for(var u=0,h=Object.keys(t);u<h.length;u++){var f=h[u];t[f]._addComponent(i)}return"PUBLIC"===i.type?r[a]:null}function p(e,t,n){var r,i=null!==(r=S[e])&&void 0!==r?r:e;n&&(i+="-"+n);var o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return o&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&c.push("and"),s&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void T.warn(c.join(" "))}f(new a["a"](i+"-version",(function(){return{library:i,version:t}}),"VERSION"))}function d(e,t){if(null!==e&&"function"!==typeof e)throw l.create("invalid-log-argument");Object(c["d"])(e,t)}function v(e,t){if("serverAuth"===t)return null;var n=t;return n}return r["default"]=r,Object.defineProperty(r,"apps",{get:h}),o["App"]=e,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P(){var e=I(x);function t(t){Object(s["l"])(e,t)}return e.INTERNAL=Object(o["a"])(Object(o["a"])({},e.INTERNAL),{createFirebaseNamespace:P,extendNamespace:t,createSubscribe:s["j"],ErrorFactory:s["b"],deepExtend:s["l"]}),e}var N=P(),R=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){var e=this.container.getProviders();return e.map((function(e){if(A(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D(e,t){e.INTERNAL.registerComponent(new a["a"]("platform-logger",(function(e){return new R(e)}),"PRIVATE")),e.registerVersion(h,f,t),e.registerVersion("fire-js","")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(Object(s["p"])()&&void 0!==self.firebase){T.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var L=self.firebase.SDK_VERSION;L&&L.indexOf("LITE")>=0&&T.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var F=N.initializeApp;N.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(s["s"])()&&T.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),F.apply(void 0,e)};var M=N;D(M),t["a"]=M},cca6:function(e,t,n){var r=n("23e7"),i=n("60da");r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},cdf9:function(e,t,n){var r=n("825a"),i=n("861d"),o=n("f069");e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e),s=n.resolve;return s(t),n.promise}},ce4e:function(e,t,n){var r=n("da84");e.exports=function(e,t){try{Object.defineProperty(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,n){var r=n("da84"),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e]):r[e]&&r[e][t]}},d1e7:function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},d2bb:function(e,t,n){var r=n("825a"),i=n("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(n,[]),t=n instanceof Array}catch(o){}return function(n,o){return r(n),i(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},d44e:function(e,t,n){var r=n("9bf2").f,i=n("5135"),o=n("b622"),s=o("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,s)&&r(e,s,{configurable:!0,value:t})}},d4c3:function(e,t,n){var r=n("342f"),i=n("da84");e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==i.Pebble},d9b5:function(e,t,n){var r=n("d066"),i=n("fdbf");e.exports=i?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return"function"==typeof t&&Object(e)instanceof t}},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n("c8ba"))},dd40:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},df75:function(e,t,n){var r=n("ca84"),i=n("7839");e.exports=Object.keys||function(e){return r(e,i)}},df7c:function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!==typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,r="/"===s.charAt(0))}return t=n(i(t.split("/"),(function(e){return!!e})),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),s="/"===o(e,-1);return e=n(i(e.split("/"),(function(e){return!!e})),!r).join("/"),e||r||(e="."),e&&s&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var n=e.length-1;n>=0;n--)if(""!==e[n])break;return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),s=Math.min(i.length,o.length),a=s,c=0;c<s;c++)if(i[c]!==o[c]){a=c;break}var u=[];for(c=a;c<i.length;c++)u.push("..");return u=u.concat(o.slice(a)),u.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(t=e.charCodeAt(o),47===t){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,s=e.length-1;s>=0;--s){var a=e.charCodeAt(s);if(47!==a)-1===r&&(i=!1,r=s+1),46===a?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=s+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("4362"))},e163:function(e,t,n){var r=n("5135"),i=n("7b0b"),o=n("f772"),s=n("e177"),a=o("IE_PROTO"),c=Object.prototype;e.exports=s?Object.getPrototypeOf:function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},e177:function(e,t,n){var r=n("d039");e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e260:function(e,t,n){"use strict";var r=n("fc6a"),i=n("44d2"),o=n("3f8c"),s=n("69f3"),a=n("7dd0"),c="Array Iterator",u=s.set,l=s.getterFor(c);e.exports=a(Array,"Array",(function(e,t){u(this,{type:c,target:r(e),index:0,kind:t})}),(function(){var e=l(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},e2cc:function(e,t,n){var r=n("6eeb");e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},e667:function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},e6cf:function(e,t,n){"use strict";var r,i,o,s,a=n("23e7"),c=n("c430"),u=n("da84"),l=n("d066"),h=n("fea9"),f=n("6eeb"),p=n("e2cc"),d=n("d2bb"),v=n("d44e"),y=n("2626"),_=n("861d"),g=n("1c0b"),m=n("19aa"),b=n("8925"),w=n("2266"),C=n("1c7e"),O=n("4840"),j=n("2cf4").set,E=n("b575"),S=n("cdf9"),T=n("44de"),x=n("f069"),k=n("e667"),I=n("69f3"),P=n("94ca"),N=n("b622"),R=n("6069"),A=n("605d"),D=n("2d00"),L=N("species"),F="Promise",M=I.get,q=I.set,W=I.getterFor(F),U=h&&h.prototype,B=h,V=U,z=u.TypeError,H=u.document,Q=u.process,K=x.f,G=K,Y=!!(H&&H.createEvent&&u.dispatchEvent),$="function"==typeof PromiseRejectionEvent,J="unhandledrejection",X="rejectionhandled",Z=0,ee=1,te=2,ne=1,re=2,ie=!1,oe=P(F,(function(){var e=b(B),t=e!==String(B);if(!t&&66===D)return!0;if(c&&!V["finally"])return!0;if(D>=51&&/native code/.test(e))return!1;var n=new B((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))},i=n.constructor={};return i[L]=r,ie=n.then((function(){}))instanceof r,!ie||!t&&R&&!$})),se=oe||!C((function(e){B.all(e)["catch"]((function(){}))})),ae=function(e){var t;return!(!_(e)||"function"!=typeof(t=e.then))&&t},ce=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;E((function(){var r=e.value,i=e.state==ee,o=0;while(n.length>o){var s,a,c,u=n[o++],l=i?u.ok:u.fail,h=u.resolve,f=u.reject,p=u.domain;try{l?(i||(e.rejection===re&&fe(e),e.rejection=ne),!0===l?s=r:(p&&p.enter(),s=l(r),p&&(p.exit(),c=!0)),s===u.promise?f(z("Promise-chain cycle")):(a=ae(s))?a.call(s,h,f):h(s)):f(r)}catch(d){p&&!c&&p.exit(),f(d)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&le(e)}))}},ue=function(e,t,n){var r,i;Y?(r=H.createEvent("Event"),r.promise=t,r.reason=n,r.initEvent(e,!1,!0),u.dispatchEvent(r)):r={promise:t,reason:n},!$&&(i=u["on"+e])?i(r):e===J&&T("Unhandled promise rejection",n)},le=function(e){j.call(u,(function(){var t,n=e.facade,r=e.value,i=he(e);if(i&&(t=k((function(){A?Q.emit("unhandledRejection",r,n):ue(J,n,r)})),e.rejection=A||he(e)?re:ne,t.error))throw t.value}))},he=function(e){return e.rejection!==ne&&!e.parent},fe=function(e){j.call(u,(function(){var t=e.facade;A?Q.emit("rejectionHandled",t):ue(X,t,e.value)}))},pe=function(e,t,n){return function(r){e(t,r,n)}},de=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=te,ce(e,!0))},ve=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw z("Promise can't be resolved itself");var r=ae(t);r?E((function(){var n={done:!1};try{r.call(t,pe(ve,n,e),pe(de,n,e))}catch(i){de(n,i,e)}})):(e.value=t,e.state=ee,ce(e,!1))}catch(i){de({done:!1},i,e)}}};if(oe&&(B=function(e){m(this,B,F),g(e),r.call(this);var t=M(this);try{e(pe(ve,t),pe(de,t))}catch(n){de(t,n)}},V=B.prototype,r=function(e){q(this,{type:F,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Z,value:void 0})},r.prototype=p(V,{then:function(e,t){var n=W(this),r=K(O(this,B));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=A?Q.domain:void 0,n.parent=!0,n.reactions.push(r),n.state!=Z&&ce(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=M(e);this.promise=e,this.resolve=pe(ve,t),this.reject=pe(de,t)},x.f=K=function(e){return e===B||e===o?new i(e):G(e)},!c&&"function"==typeof h&&U!==Object.prototype)){s=U.then,ie||(f(U,"then",(function(e,t){var n=this;return new B((function(e,t){s.call(n,e,t)})).then(e,t)}),{unsafe:!0}),f(U,"catch",V["catch"],{unsafe:!0}));try{delete U.constructor}catch(ye){}d&&d(U,V)}a({global:!0,wrap:!0,forced:oe},{Promise:B}),v(B,F,!1,!0),y(F),o=l(F),a({target:F,stat:!0,forced:oe},{reject:function(e){var t=K(this);return t.reject.call(void 0,e),t.promise}}),a({target:F,stat:!0,forced:c||oe},{resolve:function(e){return S(c&&this===o?B:this,e)}}),a({target:F,stat:!0,forced:se},{all:function(e){var t=this,n=K(t),r=n.resolve,i=n.reject,o=k((function(){var n=g(t.resolve),o=[],s=0,a=1;w(e,(function(e){var c=s++,u=!1;o.push(void 0),a++,n.call(t,e).then((function(e){u||(u=!0,o[c]=e,--a||r(o))}),i)})),--a||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=K(t),r=n.reject,i=k((function(){var i=g(t.resolve);w(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},e893:function(e,t,n){var r=n("5135"),i=n("56ef"),o=n("06cf"),s=n("9bf2");e.exports=function(e,t){for(var n=i(t),a=s.f,c=o.f,u=0;u<n.length;u++){var l=n[u];r(e,l)||a(e,l,c(t,l))}}},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},e947:function(e,t,n){"use strict";(function(e,t){var r=n("cc84"),i=n("ffa6"),o=n("a8e9"),s=n("9ab4"),a=n("abfd"),c="@firebase/database",u="0.11.0",l="";function h(e){l=e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Object(o["C"])(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Object(o["w"])(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),p=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return Object(o["h"])(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),d=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new f(t)}}catch(n){}return new p},v=d("localStorage"),y=d("sessionStorage"),_=new a["b"]("@firebase/database"),g=function(){var e=1;return function(){return e++}}(),m=function(e){var t=Object(o["B"])(e),n=new o["c"];n.update(t);var r=n.digest();return o["f"].encodeByteArray(r)},b=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&"object"===typeof i&&"number"===typeof i.length?n+=b.apply(null,i):n+="object"===typeof i?Object(o["C"])(i):i,n+=" "}return n},w=null,C=!0,O=function(e,t){Object(o["d"])(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(_.logLevel=a["a"].VERBOSE,w=_.log.bind(_),t&&y.set("logging_enabled",!0)):"function"===typeof e?w=e:(w=null,y.remove("logging_enabled"))},j=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===C&&(C=!1,null===w&&!0===y.get("logging_enabled")&&O(!0)),w){var n=b.apply(null,e);w(n)}},E=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];j.apply(void 0,Object(s["f"])([e],Object(s["e"])(t)))}},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+b.apply(void 0,Object(s["f"])([],Object(s["e"])(e)));_.error(n)},T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+b.apply(void 0,Object(s["f"])([],Object(s["e"])(e)));throw _.error(n),new Error(n)},x=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+b.apply(void 0,Object(s["f"])([],Object(s["e"])(e)));_.warn(n)},k=function(){"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&x("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},I=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},P=function(e){if(Object(o["t"])()||"complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}},N="[MIN_NAME]",R="[MAX_NAME]",A=function(e,t){if(e===t)return 0;if(e===N||t===R)return-1;if(t===N||e===R)return 1;var n=K(e),r=K(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},D=function(e,t){return e===t?0:e<t?-1:1},L=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Object(o["C"])(t))},F=function(e){if("object"!==typeof e||null===e)return Object(o["C"])(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)0!==i&&(r+=","),r+=Object(o["C"])(t[i]),r+=":",r+=F(e[t[i]]);return r+="}",r},M=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var W=function(e){Object(o["d"])(!I(e),"Invalid JSON number");var t,n,r,i,s,a=11,c=52,u=(1<<a-1)-1;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,e=Math.abs(e),e>=Math.pow(2,1-u)?(i=Math.min(Math.floor(Math.log(e)/Math.LN2),u),n=i+u,r=Math.round(e*Math.pow(2,c-i)-Math.pow(2,c))):(n=0,r=Math.round(e/Math.pow(2,1-u-c))));var l=[];for(s=c;s;s-=1)l.push(r%2?1:0),r=Math.floor(r/2);for(s=a;s;s-=1)l.push(n%2?1:0),n=Math.floor(n/2);l.push(t?1:0),l.reverse();var h=l.join(""),f="";for(s=0;s<64;s+=8){var p=parseInt(h.substr(s,8),2).toString(16);1===p.length&&(p="0"+p),f+=p}return f.toLowerCase()},U=function(){return!("object"!==typeof window||!window["chrome"]||!window["chrome"]["extension"]||/^chrome/.test(window.location.href))},B=function(){return"object"===typeof Windows&&"object"===typeof Windows.UI};function V(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var z=new RegExp("^-?(0*)\\d{1,10}$"),H=-2147483648,Q=2147483647,K=function(e){if(z.test(e)){var t=Number(e);if(t>=H&&t<=Q)return t}return null},G=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw x("Exception was thrown by user callback.",e),t}),Math.floor(0))}},Y=function(){var e="object"===typeof window&&window["navigator"]&&window["navigator"]["userAgent"]||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},$=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n["unref"]&&n["unref"](),n},J=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){x('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),X=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(j("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',x(e)},e}(),Z=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),ee="5",te="v",ne="s",re="r",ie="f",oe=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,se="ls",ae="p",ce="ac",ue="websocket",le="long_polling",he=function(){function e(e,t,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=v.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&v.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function fe(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function pe(e,t,n){var r;if(Object(o["d"])("string"===typeof t,"typeof type must == string"),Object(o["d"])("object"===typeof n,"typeof params must == object"),t===ue)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==le)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}fe(e)&&(n["ns"]=e.namespace);var i=[];return q(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),Object(o["h"])(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return Object(o["k"])(this.counters_)},e}(),ve={},ye={};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(e){var t=e.toString();return ve[t]||(ve[t]=new de),ve[t]}function ge(e,t){var n=e.toString();return ye[n]||(ye[n]=t()),ye[n]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&G((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;while(this.pendingResponses[this.currentResponseNum]){var o=r();if("break"===o)break}},e}(),be="start",we="close",Ce="pLPCommand",Oe="pRTLPCB",je="id",Ee="pw",Se="ser",Te="cb",xe="seg",ke="ts",Ie="d",Pe="dframe",Ne=1870,Re=30,Ae=Ne-Re,De=25e3,Le=3e4,Fe=function(){function e(e,t,n,r,i,o,s){var a=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=E(e),this.stats_=_e(t),this.urlFn=function(e){return a.appCheckToken&&(e[ce]=a.appCheckToken),pe(t,le,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new me(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(Le)),P((function(){if(!n.isClosed_){n.scriptTagHolder=new Me((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object(s["e"])(e,5),i=r[0],o=r[1],a=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===be)n.id=o,n.password=a;else{if(i!==we)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object(s["e"])(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[be]="t",e[Se]=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e[Te]=n.scriptTagHolder.uniqueCallbackIdentifier),e[te]=ee,n.transportSessionId&&(e[ne]=n.transportSessionId),n.lastSessionId&&(e[se]=n.lastSessionId),n.applicationId&&(e[ae]=n.applicationId),n.appCheckToken&&(e[ce]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&oe.test(location.hostname)&&(e[re]=ie);var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!Object(o["t"])()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!U()&&!B())},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=Object(o["C"])(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Object(o["g"])(t),r=M(n,Ae),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!Object(o["t"])()){this.myDisconnFrame=document.createElement("iframe");var n={};n[Pe]="t",n[je]=e,n[Ee]=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=Object(o["C"])(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),Me=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(o["t"])())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=g(),window[Ce+this.uniqueCallbackIdentifier]=t,window[Oe+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var s="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)){var a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}var c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(u){j("frame writing exception"),u.stack&&j(u.stack),j(u)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{var t=e.contentWindow.document;t||j("No IE domain setting required")}catch(r){var n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){this.myID=e,this.myPW=t,this.alive=!0;while(this.newRequest_());},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e[je]=this.myID,e[Ee]=this.myPW,e[Se]=this.currentSerial;var t=this.urlFn(e),n="",r=0;while(this.pendingSegs.length>0){var i=this.pendingSegs[0];if(!(i.d.length+Re+n.length<=Ne))break;var o=this.pendingSegs.shift();n=n+"&"+xe+r+"="+o.seg+"&"+ke+r+"="+o.ts+"&"+Ie+r+"="+o.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(De)),o=function(){clearTimeout(i),r()};this.addTag(e,o)},e.prototype.addTag=function(e,t){var n=this;Object(o["t"])()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){j("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),qe=16384,We=45e3,Ue=null;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */"undefined"!==typeof MozWebSocket?Ue=MozWebSocket:"undefined"!==typeof WebSocket&&(Ue=WebSocket);var Be=function(){function t(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=E(this.connId),this.stats_=_e(n),this.connURL=t.connectionURL_(n,s,a,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(e,t,n,r){var i={};return i[te]=ee,!Object(o["t"])()&&"undefined"!==typeof location&&location.hostname&&oe.test(location.hostname)&&(i[re]=ie),t&&(i[ne]=t),n&&(i[se]=n),r&&(i[ce]=r),pe(e,ue,i)},t.prototype.open=function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,v.set("previous_websocket_failure",!0);try{if(Object(o["t"])()){var i=this.nodeAdmin?"AdminNode":"Node",s={headers:{"User-Agent":"Firebase/"+ee+"/"+l+"/"+e.platform+"/"+i,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(s.headers["Authorization"]="Bearer "+this.authToken),this.appCheckToken&&(s.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a=Object({NODE_ENV:"production",BASE_URL:"/"}),c=0===this.connURL.indexOf("wss://")?a["HTTPS_PROXY"]||a["https_proxy"]:a["HTTP_PROXY"]||a["http_proxy"];c&&(s["proxy"]={origin:c}),this.mySock=new Ue(this.connURL,[],s)}else{s={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new Ue(this.connURL,[],s)}}catch(h){this.log_("Error instantiating WebSocket.");var u=h.message||h.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(e){r.handleIncomingFrame(e)},this.mySock.onerror=function(e){r.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&r.log_(t),r.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==Ue&&!t.forceDisallow_},t.previouslyFailed=function(){return v.isInMemoryStorage||!0===v.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){v.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Object(o["w"])(t);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},t.prototype.extractFrameCount_=function(e){if(Object(o["d"])(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},t.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e["data"];if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(e){this.resetKeepAlive();var t=Object(o["C"])(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=M(t,qe);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(We))},t.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Ve=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[Fe,Be]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=Be&&Be["isAvailable"](),o=i&&!Be.previouslyFailed();if(t.webSocketOnly&&(i||x("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Be];else{var a=this.transports_=[];try{for(var c=Object(s["g"])(e.ALL_TRANSPORTS),u=c.next();!u.done;u=c.next()){var l=u.value;l&&l["isAvailable"]()&&a.push(l)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),ze=6e4,He=5e3,Qe=10240,Ke=102400,Ge="t",Ye="d",$e="s",Je="r",Xe="e",Ze="o",et="a",tt="n",nt="p",rt="h",it=function(){function e(e,t,n,r,i,o,s,a,c,u){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=E("c:"+this.id+":"),this.transportManager_=new Ve(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t["responsesRequiredToBeHealthy"]||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t["healthyTimeout"]||0;i>0&&(this.healthyTimeout_=$((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>Ke?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>Qe?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if(Ge in e){var t=e[Ge];t===et?this.upgradeIfSecondaryHealthy_():t===Je?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):t===Ze&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=L("t",e),n=L("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:nt,d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:et,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:tt,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=L("t",e),n=L("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=L(Ge,e);if(Ye in e){var n=e[Ye];if(t===rt)this.onHandshake_(n);else if(t===tt){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===$e?this.onConnectionShutdown_(n):t===Je?this.onReset_(n):t===Xe?S("Server Error: "+n):t===Ze?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):S("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),ee!==n&&x("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e["responsesRequiredToBeHealthy"]||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),$((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(ze))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(He))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:nt,d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(v.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),ot=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),st=function(){function e(e){this.allowedEvents_=e,this.listeners_={},Object(o["d"])(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=Object(s["f"])([],Object(s["e"])(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){Object(o["d"])(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),at=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Object(o["r"])()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return Object(s["c"])(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Object(o["d"])("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(st),ct=32,ut=768,lt=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(){return new lt("")}function ft(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function pt(e){return e.pieces_.length-e.pieceNum_}function dt(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new lt(e.pieces_,t)}function vt(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function yt(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function _t(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function gt(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new lt(t,0)}function mt(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof lt)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new lt(n,0)}function bt(e){return e.pieceNum_>=e.pieces_.length}function wt(e,t){var n=ft(e),r=ft(t);if(null===n)return t;if(n===r)return wt(dt(e),dt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ct(e,t){for(var n=_t(e,0),r=_t(t,0),i=0;i<n.length&&i<r.length;i++){var o=A(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Ot(e,t){if(pt(e)!==pt(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function jt(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(pt(e)>pt(t))return!1;while(n<e.pieces_.length){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Et=function(){function e(e,t){this.errorPrefix_=t,this.parts_=_t(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(o["A"])(this.parts_[n]);xt(this)}return e}();function St(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Object(o["A"])(t),xt(e)}function Tt(e){var t=e.parts_.pop();e.byteLength_-=Object(o["A"])(t),e.parts_.length>0&&(e.byteLength_-=1)}function xt(e){if(e.byteLength_>ut)throw new Error(e.errorPrefix_+"has a key path longer than "+ut+" bytes ("+e.byteLength_+").");if(e.parts_.length>ct)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ct+") or object contains a cycle "+kt(e))}function kt(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,Pt,Nt=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document["hidden"]?(n="visibilitychange",t="hidden"):"undefined"!==typeof document["mozHidden"]?(n="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document["msHidden"]?(n="msvisibilitychange",t="msHidden"):"undefined"!==typeof document["webkitHidden"]&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return Object(s["c"])(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Object(o["d"])("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(st),Rt=1e3,At=3e5,Dt=3e3,Lt=3e4,Ft=1.3,Mt=3e4,qt="server_kill",Wt=3,Ut=function(e){function t(n,r,i,s,a,c,u,l){var h=e.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=s,h.onServerInfoUpdate_=a,h.authTokenProvider_=c,h.appCheckTokenProvider_=u,h.authOverride_=l,h.id=t.nextPersistentConnectionId_++,h.log_=E("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=Rt,h.maxReconnectDelay_=At,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!Object(o["t"])())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Nt.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&at.getInstance().on("online",h.onOnline_,h),h}return Object(s["c"])(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Object(o["C"])(i)),Object(o["d"])(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new o["a"],r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e["d"];"ok"===e["s"]?(t.onDataUpdate_(r["p"],i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var s=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[s];void 0!==e&&i===e&&(delete t.outstandingGets_[s],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+s+" timed out on connection"),n.reject(new Error("Client is offline.")))}),Dt),this.connected_&&this.sendGet_(s),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),Object(o["d"])(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(o["d"])(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(i,a),this.connected_&&this.sendListen_(a)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var s={p:i},a="q";e.tag&&(s["q"]=r._queryObject,s["t"]=e.tag),s["h"]=e.hashFn(),this.sendRequest(a,s,(function(s){var a=s["d"],c=s["s"];t.warnOnListenWarnings_(a,r);var u=n.listens.get(i)&&n.listens.get(i).get(o);u===e&&(n.log_("listen response",s),"ok"!==c&&n.removeListen_(i,o),e.onComplete&&e.onComplete(c,a))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"===typeof e&&Object(o["h"])(e,"w")){var n=Object(o["z"])(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();x("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){var t=e&&40===e.length;(t||Object(o["o"])(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Lt)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=Object(o["v"])(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r["noauth"]=!0:"object"===typeof this.authOverride_&&(r["authvar"]=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n["s"],i=n["d"]||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t["s"],r=t["d"]||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(o["d"])(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var i=this.removeListen_(n,r);i&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e},o="n";r&&(i["q"]=n,i["t"]=r),this.sendRequest(o,i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e["s"],e["d"])}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o["h"]=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r["s"],r["d"])}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){var n=e["s"];if("ok"!==n){var r=e["d"];t.log_("reportStats","Error sending stats: "+r)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+Object(o["C"])(e));var t=e["r"],n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e["b"]))}else{if("error"in e)throw"A server-side error has occurred: "+e["error"];"a"in e&&this.onDataPush_(e["a"],e["b"])}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t["p"],t["d"],!1,t["t"]):"m"===e?this.onDataUpdate_(t["p"],t["d"],!0,t["t"]):"c"===e?this.onListenRevoked_(t["p"],t["q"]):"ac"===e?this.onAuthRevoked_(t["s"],t["d"]):"apc"===e?this.onAppCheckRevoked_(t["s"],t["d"]):"sd"===e?this.onSecurityDebugPacket_(t):S("Unrecognized action received from server: "+Object(o["C"])(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;Object(o["d"])(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Rt,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Rt,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){var e=(new Date).getTime()-this.lastConnectionEstablishedTime_;e>Mt&&(this.reconnectDelay_=Rt),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Ft)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return Object(s["b"])(this,void 0,void 0,(function(){var e,n,r,i,a,c,u,l,h,f,p,d,v,y,_=this;return Object(s["d"])(this,(function(g){switch(g.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,a=this.lastSessionId,c=!1,u=null,l=function(){u?u.close():(c=!0,r())},h=function(e){Object(o["d"])(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:l,sendRequest:h},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,g.label=1;case 1:return g.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)])];case 2:return p=s["e"].apply(void 0,[g.sent(),2]),d=p[0],v=p[1],c?j("getToken() completed but was canceled"):(j("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=v&&v.token,u=new it(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,(function(e){x(e+" ("+_.repoInfo_.toString()+")"),_.interrupt(qt)}),a)),[3,4];case 3:return y=g.sent(),this.log_("Failed to get token: "+y),c||(this.repoInfo_.nodeAdmin&&x(y),l()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){j("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){j("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Object(o["q"])(this.interruptReasons_)&&(this.reconnectDelay_=Rt,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return F(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new lt(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){j("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Wt&&(this.reconnectDelay_=Lt,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){j("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Wt&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e["msg"].replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=Object(s["g"])(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var c=(n=void 0,Object(s["g"])(a.values())),u=c.next();!u.done;u=c.next()){var l=u.value;this.sendListen_(l)}}catch(p){n={error:p}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);while(this.onDisconnectRequestQueue_.length){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}for(h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)},t.prototype.sendConnectStats_=function(){var e={},t="js";Object(o["t"])()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+l.replace(/\./g,"-")]=1,Object(o["r"])()?e["framework.cordova"]=1:Object(o["u"])()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=at.getInstance().currentlyOnline();return Object(o["q"])(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(ot),Bt=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Vt=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Bt(N,e),r=new Bt(N,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Bt.MIN},e}(),zt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s["c"])(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return It},set:function(e){It=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return A(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw Object(o["e"])("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Bt.MIN},t.prototype.maxPost=function(){return new Bt(R,It)},t.prototype.makePost=function(e,t){return Object(o["d"])("string"===typeof e,"KeyIndex indexValue must always be a string."),new Bt(e,It)},t.prototype.toString=function(){return".key"},t}(Vt),Ht=new zt,Qt=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];var o=1;while(!e.isEmpty())if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_){t=t.left;while(!t.isEmpty())this.nodeStack_.push(t),t=t.right}else{t=t.right;while(!t.isEmpty())this.nodeStack_.push(t),t=t.left}return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Kt=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Yt.EMPTY_NODE,this.right=null!=o?o:Yt.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Yt.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()},e.prototype.remove=function(e,t){var n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Yt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Gt=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Kt(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Yt=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Kt.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Kt.BLACK,null,null))},e.prototype.get=function(e){var t,n=this.root_;while(!n.isEmpty()){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){var t,n=this.root_,r=null;while(!n.isEmpty()){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;n=n.left;while(!n.right.isEmpty())n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Qt(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Qt(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Qt(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Qt(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new Gt,e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function $t(e,t){return A(e.name,t.name)}function Jt(e,t){return A(e,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(e){Pt=e}var Zt,en,tn,nn=function(e){return"number"===typeof e?"number:"+W(e):"string:"+e},rn=function(e){if(e.isLeafNode()){var t=e.val();Object(o["d"])("string"===typeof t||"number"===typeof t||"object"===typeof t&&Object(o["h"])(t,".sv"),"Priority must be a string or number.")}else Object(o["d"])(e===Pt||e.isEmpty(),"priority of unexpected type.");Object(o["d"])(e===Pt||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},on=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Object(o["d"])(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),rn(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return Zt},set:function(e){Zt=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return bt(t)?this:".priority"===ft(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=ft(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(o["d"])(".priority"!==r||1===pt(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(dt(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+nn(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?W(this.value_):this.value_,this.lazyHash_=m(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Object(o["d"])(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),s=e.VALUE_TYPE_ORDER.indexOf(r);return Object(o["d"])(i>=0,"Unknown leaf type: "+n),Object(o["d"])(s>=0,"Unknown leaf type: "+r),i===s?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();function sn(e){en=e}function an(e){tn=e}var cn,un,ln=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s["c"])(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?A(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Bt.MIN},t.prototype.maxPost=function(){return new Bt(R,new on("[PRIORITY-POST]",tn))},t.prototype.makePost=function(e,t){var n=en(e);return new Bt(t,new on("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Vt),hn=new ln,fn=Math.log(2),pn=function(){function e(e){var t=function(e){return parseInt(Math.log(e)/fn,10)},n=function(e){return parseInt(Array(e+1).join("1"),2)};this.count=t(e+1),this.current_=this.count-1;var r=n(this.count);this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),dn=function(e,t,n,r){e.sort(t);var i=function(t,r){var o,s,a=r-t;if(0===a)return null;if(1===a)return o=e[t],s=n?n(o):o,new Kt(s,o.node,Kt.BLACK,null,null);var c=parseInt(a/2,10)+t,u=i(t,c),l=i(c+1,r);return o=e[c],s=n?n(o):o,new Kt(s,o.node,Kt.BLACK,u,l)},o=function(t){for(var r=null,o=null,s=e.length,a=function(t,r){var o=s-t,a=s;s-=t;var u=i(o+1,a),l=e[o],h=n?n(l):l;c(new Kt(h,l.node,r,null,u))},c=function(e){r?(r.left=e,r=e):(o=e,r=e)},u=0;u<t.count;++u){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(u+1));l?a(h,Kt.BLACK):(a(h,Kt.BLACK),a(h,Kt.RED))}return o},s=new pn(e.length),a=o(s);return new Yt(r||t,a)},vn={},yn=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return Object(o["d"])(vn&&hn,"ChildrenNode.ts has not been loaded"),cn=cn||new e({".priority":vn},{".priority":hn}),cn},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=Object(o["z"])(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Yt?t:null},e.prototype.hasIndex=function(e){return Object(o["h"])(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){Object(o["d"])(t!==Ht,"KeyIndex always exists and isn't meant to be added to the IndexMap.");var r,i=[],a=!1,c=n.getIterator(Bt.Wrap),u=c.getNext();while(u)a=a||t.isDefinedOn(u.node),i.push(u),u=c.getNext();r=a?dn(i,t.getCompare()):vn;var l=t.toString(),h=Object(s["a"])({},this.indexSet_);h[l]=t;var f=Object(s["a"])({},this.indexes_);return f[l]=r,new e(f,h)},e.prototype.addToIndexes=function(t,n){var r=this,i=Object(o["x"])(this.indexes_,(function(e,i){var s=Object(o["z"])(r.indexSet_,i);if(Object(o["d"])(s,"Missing index implementation for "+i),e===vn){if(s.isDefinedOn(t.node)){var a=[],c=n.getIterator(Bt.Wrap),u=c.getNext();while(u)u.name!==t.name&&a.push(u),u=c.getNext();return a.push(t),dn(a,s.getCompare())}return vn}var l=n.get(t.name),h=e;return l&&(h=h.remove(new Bt(t.name,l))),h.insert(t,t.node)}));return new e(i,this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){var r=Object(o["x"])(this.indexes_,(function(e){if(e===vn)return e;var r=n.get(t.name);return r?e.remove(new Bt(t.name,r)):e}));return new e(r,this.indexSet_)},e}(),_n=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&rn(this.priorityNode_),this.children_.isEmpty()&&Object(o["d"])(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return un||(un=new e(new Yt(Jt),null,yn.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||un},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?un:t},e.prototype.getChild=function(e){var t=ft(e);return null===t?this:this.getImmediateChild(t).getChild(dt(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(Object(o["d"])(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Bt(t,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?un:this.priorityNode_;return new e(i,a,s)},e.prototype.updateChild=function(e,t){var n=ft(e);if(null===n)return t;Object(o["d"])(".priority"!==ft(e)||1===pt(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(dt(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(hn,(function(s,a){n[s]=a.val(t),r++,o&&e.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1})),!t&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+nn(this.getPriority().val())+":"),this.forEachChild(hn,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":m(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Bt(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Bt(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Bt(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));var r=this.children_.getIteratorFrom(e.name,Bt.Wrap),i=r.peek();while(null!=i&&t.compare(i,e)<0)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));var r=this.children_.getReverseIteratorFrom(e.name,Bt.Wrap),i=r.peek();while(null!=i&&t.compare(i,e)>0)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===mn?-1:0},e.prototype.withIndex=function(t){if(t===Ht||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Ht||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){var n=this.getIterator(hn),r=t.getIterator(hn),i=n.getNext(),o=r.getNext();while(i&&o){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Ht?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),gn=function(e){function t(){return e.call(this,new Yt(Jt),_n.EMPTY_NODE,yn.Default)||this}return Object(s["c"])(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return _n.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(_n),mn=new gn;Object.defineProperties(Bt,{MIN:{value:new Bt(N,_n.EMPTY_NODE)},MAX:{value:new Bt(R,mn)}}),zt.__EMPTY_NODE=_n.EMPTY_NODE,on.__childrenNodeConstructor=_n,Xt(mn),an(mn);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var bn=!0;function wn(e,t){if(void 0===t&&(t=null),null===e)return _n.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Object(o["d"])(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new on(n,wn(t))}if(e instanceof Array||!bn){var r=_n.EMPTY_NODE;return q(e,(function(t,n){if(Object(o["h"])(e,t)&&"."!==t.substring(0,1)){var i=wn(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(wn(t))}var i=[],s=!1,a=e;if(q(a,(function(e,t){if("."!==e.substring(0,1)){var n=wn(t);n.isEmpty()||(s=s||!n.getPriority().isEmpty(),i.push(new Bt(e,n)))}})),0===i.length)return _n.EMPTY_NODE;var c=dn(i,$t,(function(e){return e.name}),Jt);if(s){var u=dn(i,hn.getCompare());return new _n(c,wn(t),new yn({".priority":u},{".priority":hn}))}return new _n(c,wn(t),yn.Default)}sn(wn);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Cn=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,Object(o["d"])(!bt(t)&&".priority"!==ft(t),"Can't create PathIndex with empty path or .priority key"),n}return Object(s["c"])(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?A(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=wn(e),r=_n.EMPTY_NODE.updateChild(this.indexPath_,n);return new Bt(t,r)},t.prototype.maxPost=function(){var e=_n.EMPTY_NODE.updateChild(this.indexPath_,mn);return new Bt(R,e)},t.prototype.toString=function(){return _t(this.indexPath_,0).join("/")},t}(Vt),On=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s["c"])(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?A(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Bt.MIN},t.prototype.maxPost=function(){return Bt.MAX},t.prototype.makePost=function(e,t){var n=wn(e);return new Bt(t,n)},t.prototype.toString=function(){return".value"},t}(Vt),jn=new On,En="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Sn="-",Tn="z",xn=786,kn=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var s=new Array(8);for(r=7;r>=0;r--)s[r]=En.charAt(n%64),n=Math.floor(n/64);Object(o["d"])(0===n,"Cannot push at time == 0");var a=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)a+=En.charAt(t[r]);return Object(o["d"])(20===a.length,"nextPushId: Length should be 20."),a}}(),In=function(e){if(e===""+Q)return Sn;var t=K(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<xn)return n.push(Sn),n.join("");var i=n.length-1;while(i>=0&&n[i]===Tn)i--;if(-1===i)return R;var o=n[i],s=En.charAt(En.indexOf(o)+1);return n[i]=s,n.slice(0,i+1).join("")},Pn=function(e){if(e===""+H)return N;var t=K(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return n[n.length-1]===Sn?1===n.length?""+Q:(delete n[n.length-1],n.join("")):(n[n.length-1]=En.charAt(En.indexOf(n[n.length-1])-1),n.join("")+Tn.repeat(xn-n.length))};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Nn(e){return{type:"value",snapshotNode:e}}function Rn(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function An(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Dn(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function Ln(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fn=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,s){Object(o["d"])(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(An(t,a)):Object(o["d"])(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Rn(t,n)):s.trackChildChange(Dn(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(hn,(function(e,r){t.hasChild(e)||n.trackChildChange(An(e,r))})),t.isLeafNode()||t.forEachChild(hn,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Dn(t,r,i))}else n.trackChildChange(Rn(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?_n.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),Mn=function(){function e(t){this.indexedFilter_=new Fn(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Bt(t,n))||(n=_n.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=_n.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(_n.EMPTY_NODE);var i=this;return t.forEachChild(hn,(function(e,t){i.matches(new Bt(e,t))||(r=r.updateImmediateChild(e,_n.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),qn=function(){function e(e){this.rangedFilter_=new Mn(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Bt(t,n))||(n=_n.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=_n.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=_n.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);var o=0;while(i.hasNext()&&o<this.limit_){var s=i.getNext(),a=void 0;if(a=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0,!a)break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=t.withIndex(this.index_),r=r.updatePriority(_n.EMPTY_NODE);var c=void 0,u=void 0,l=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),c=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var h=this.index_.getCompare();l=function(e,t){return h(t,e)}}else i=r.getIterator(this.index_),c=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();o=0;var f=!1;while(i.hasNext()){s=i.getNext();!f&&l(c,s)<=0&&(f=!0);a=f&&o<this.limit_&&l(s,u)<=0;a?o++:r=r.updateImmediateChild(s.name,_n.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(e,t){return a(t,e)}}else s=this.index_.getCompare();var c=e;Object(o["d"])(c.numChildren()===this.limit_,"");var u=new Bt(t,n),l=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(c.hasChild(t)){var f=c.getImmediateChild(t),p=r.getChildAfterChild(this.index_,l,this.reverse_);while(null!=p&&(p.name===t||c.hasChild(p.name)))p=r.getChildAfterChild(this.index_,p,this.reverse_);var d=null==p?1:s(p,u),v=h&&!n.isEmpty()&&d>=0;if(v)return null!=i&&i.trackChildChange(Dn(t,n,f)),c.updateImmediateChild(t,n);null!=i&&i.trackChildChange(An(t,f));var y=c.updateImmediateChild(t,_n.EMPTY_NODE),_=null!=p&&this.rangedFilter_.matches(p);return _?(null!=i&&i.trackChildChange(Rn(p.name,p.node)),y.updateImmediateChild(p.name,p.node)):y}return n.isEmpty()?e:h&&s(l,u)>=0?(null!=i&&(i.trackChildChange(An(l.name,l.node)),i.trackChildChange(Rn(t,n))),c.updateImmediateChild(t,n).updateImmediateChild(l.name,_n.EMPTY_NODE)):e},e}(),Wn=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=hn}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return Object(o["d"])(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return Object(o["d"])(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:N},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return Object(o["d"])(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return Object(o["d"])(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:R},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return Object(o["d"])(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===hn},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(e){return e.loadsAllData()?new Fn(e.getIndex()):e.hasLimit()?new qn(e):new Mn(e)}function Bn(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function Vn(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function zn(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Hn(e,t,n){var r;if(e.index_===Ht)"string"===typeof t&&(t=In(t)),r=zn(e,t,n);else{var i=void 0;i=null==n?R:In(n),r=zn(e,t,i)}return r.startAfterSet_=!0,r}function Qn(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Kn(e,t,n){var r,i;return e.index_===Ht?("string"===typeof t&&(t=Pn(t)),i=Qn(e,t,n)):(r=null==n?N:Pn(n),i=Qn(e,t,r)),i.endBeforeSet_=!0,i}function Gn(e,t){var n=e.copy();return n.index_=t,n}function Yn(e){var t,n={};return e.isDefault()||(e.index_===hn?t="$priority":e.index_===jn?t="$value":e.index_===Ht?t="$key":(Object(o["d"])(e.index_ instanceof Cn,"Unrecognized index type!"),t=e.index_.toString()),n["orderBy"]=Object(o["C"])(t),e.startSet_&&(n["startAt"]=Object(o["C"])(e.indexStartValue_),e.startNameSet_&&(n["startAt"]+=","+Object(o["C"])(e.indexStartName_))),e.endSet_&&(n["endAt"]=Object(o["C"])(e.indexEndValue_),e.endNameSet_&&(n["endAt"]+=","+Object(o["C"])(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n["limitToFirst"]=e.limit_:n["limitToLast"]=e.limit_)),n}function $n(e){var t={};if(e.startSet_&&(t["sp"]=e.indexStartValue_,e.startNameSet_&&(t["sn"]=e.indexStartName_)),e.endSet_&&(t["ep"]=e.indexEndValue_,e.endNameSet_&&(t["en"]=e.indexEndName_)),e.limitSet_){t["l"]=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t["vf"]=n}return e.index_!==hn&&(t["i"]=e.index_.toString()),t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jn=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=E("p:rest:"),o.listens_={},o}return Object(s["c"])(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(Object(o["d"])(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var s=this,a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);var c=t.getListenId_(e,r),u={};this.listens_[c]=u;var l=Yn(e._queryParams);this.restRequest_(a+".json",l,(function(e,t){var n,l=t;(404===e&&(l=null,e=null),null===e&&s.onDataUpdate_(a,l,!1,r),Object(o["z"])(s.listens_,c)===u)&&(n=e?401===e?"permission_denied":"rest_error:"+e:"ok",i(n,null))}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=Yn(e._queryParams),r=e._path.toString(),i=new o["a"];return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t["format"]="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=Object(s["e"])(i,2),c=a[0],u=a[1];c&&c.accessToken&&(t["auth"]=c.accessToken),u&&u.token&&(t["ac"]=u.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+Object(o["y"])(t);r.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var e=null;if(h.status>=200&&h.status<300){try{e=Object(o["w"])(h.responseText)}catch(t){x("Failed to parse JSON response for "+l+": "+h.responseText)}n(null,e)}else 401!==h.status&&404!==h.status&&x("Got unsuccessful REST response for "+l+" Status: "+h.status),n(h.status);n=null}},h.open("GET",l,!0),h.send()}))},t}(ot),Xn=function(){function e(){this.rootNode_=_n.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Zn(){return{value:null,children:new Map}}function er(e,t,n){if(bt(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=ft(t);e.children.has(r)||e.children.set(r,Zn());var i=e.children.get(r);t=dt(t),er(i,t,n)}}function tr(e,t){if(bt(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(hn,(function(t,n){er(e,new lt(t),n)})),tr(e,t)}if(e.children.size>0){var r=ft(t);if(t=dt(t),e.children.has(r)){var i=tr(e.children.get(r),t);i&&e.children.delete(r)}return 0===e.children.size}return!0}function nr(e,t,n){null!==e.value?n(t,e.value):rr(e,(function(e,r){var i=new lt(t.toString()+"/"+e);nr(r,i,n)}))}function rr(e,t){e.children.forEach((function(e,n){t(n,e)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ir,or=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=Object(s["a"])({},e);return this.last_&&q(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),sr=1e4,ar=3e4,cr=3e5,ur=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new or(e);var n=sr+(ar-sr)*Math.random();$(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;q(t,(function(t,i){i>0&&Object(o["h"])(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),$(this.reportStats_.bind(this),Math.floor(2*Math.random()*cr))},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(e,t){e.statsToReport_[t]=!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function fr(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function pr(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){e[e["OVERWRITE"]=0]="OVERWRITE",e[e["MERGE"]=1]="MERGE",e[e["ACK_USER_WRITE"]=2]="ACK_USER_WRITE",e[e["LISTEN_COMPLETE"]=3]="LISTEN_COMPLETE"})(ir||(ir={}));var dr,vr=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=ir.ACK_USER_WRITE,this.source=hr()}return e.prototype.operationForChild=function(t){if(bt(this.path)){if(null!=this.affectedTree.value)return Object(o["d"])(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new lt(t));return new e(ht(),n,this.revert)}return Object(o["d"])(ft(this.path)===t,"operationForChild called for unrelated child."),new e(dt(this.path),this.affectedTree,this.revert)},e}(),yr=function(){function e(e,t){this.source=e,this.path=t,this.type=ir.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return bt(this.path)?new e(this.source,ht()):new e(this.source,dt(this.path))},e}(),_r=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=ir.OVERWRITE}return e.prototype.operationForChild=function(t){return bt(this.path)?new e(this.source,ht(),this.snap.getImmediateChild(t)):new e(this.source,dt(this.path),this.snap)},e}(),gr=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=ir.MERGE}return e.prototype.operationForChild=function(t){if(bt(this.path)){var n=this.children.subtree(new lt(t));return n.isEmpty()?null:n.value?new _r(this.source,ht(),n.value):new e(this.source,ht(),n)}return Object(o["d"])(ft(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,dt(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),mr=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(bt(e))return this.isFullyInitialized()&&!this.filtered_;var t=ft(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),br=function(){function e(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}return e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(e,t,n,r){var i=[],o=[];return t.forEach((function(t){"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(Ln(t.childName,t.snapshotNode))})),Cr(e,i,"child_removed",t,r,n),Cr(e,i,"child_added",t,r,n),Cr(e,i,"child_moved",o,r,n),Cr(e,i,"child_changed",t,r,n),Cr(e,i,"value",t,r,n),i}function Cr(e,t,n,r,i,o){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return jr(e,t,n)})),s.forEach((function(n){var r=Or(e,n,o);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Or(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function jr(e,t,n){if(null==t.childName||null==n.childName)throw Object(o["e"])("Should only compare child_ events.");var r=new Bt(t.childName,t.snapshotNode),i=new Bt(n.childName,n.snapshotNode);return e.index_.compare(r,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(e,t){return{eventCache:e,serverCache:t}}function Sr(e,t,n,r){return Er(new mr(t,n,r),e.serverCache)}function Tr(e,t,n,r){return Er(e.eventCache,new mr(t,n,r))}function xr(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function kr(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ir=function(){return dr||(dr=new Yt(D)),dr},Pr=function(){function e(e,t){void 0===t&&(t=Ir()),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return q(t,(function(e,t){n=n.set(new lt(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:ht(),value:this.value};if(bt(e))return null;var n=ft(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(dt(e),t);if(null!=i){var o=mt(new lt(n),i.path);return{path:o,value:i.value}}return null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(bt(t))return this;var n=ft(t),r=this.children.get(n);return null!==r?r.subtree(dt(t)):new e(null)},e.prototype.set=function(t,n){if(bt(t))return new e(n,this.children);var r=ft(t),i=this.children.get(r)||new e(null),o=i.set(dt(t),n),s=this.children.insert(r,o);return new e(this.value,s)},e.prototype.remove=function(t){if(bt(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ft(t),r=this.children.get(n);if(r){var i=r.remove(dt(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(bt(e))return this.value;var t=ft(e),n=this.children.get(t);return n?n.get(dt(e)):null},e.prototype.setTree=function(t,n){if(bt(t))return n;var r=ft(t),i=this.children.get(r)||new e(null),o=i.setTree(dt(t),n),s=void 0;return s=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new e(this.value,s)},e.prototype.fold=function(e){return this.fold_(ht(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(mt(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,ht(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(bt(e))return null;var i=ft(e),o=this.children.get(i);return o?o.findOnPath_(dt(e),mt(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,ht(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(bt(t))return this;this.value&&r(n,this.value);var i=ft(t),o=this.children.get(i);return o?o.foreachOnPath_(dt(t),mt(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(ht(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(mt(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),Nr=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new Pr(null))},e}();function Rr(e,t,n){if(bt(t))return new Nr(new Pr(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,s=wt(i,t);return o=o.updateChild(s,n),new Nr(e.writeTree_.set(i,o))}var a=new Pr(n),c=e.writeTree_.setTree(t,a);return new Nr(c)}function Ar(e,t,n){var r=e;return q(n,(function(e,n){r=Rr(r,mt(t,e),n)})),r}function Dr(e,t){if(bt(t))return Nr.empty();var n=e.writeTree_.setTree(t,new Pr(null));return new Nr(n)}function Lr(e,t){return null!=Fr(e,t)}function Fr(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(wt(n.path,t)):null}function Mr(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(hn,(function(e,n){t.push(new Bt(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Bt(e,n.value))})),t}function qr(e,t){if(bt(t))return e;var n=Fr(e,t);return new Nr(null!=n?new Pr(n):e.writeTree_.subtree(t))}function Wr(e){return e.writeTree_.isEmpty()}function Ur(e,t){return Br(ht(),e.writeTree_,t)}function Br(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(Object(o["d"])(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Br(mt(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(mt(e,".priority"),r)),n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(e,t){return fi(t,e)}function zr(e,t,n,r,i){Object(o["d"])(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Rr(e.visibleWrites,t,n)),e.lastWriteId=r}function Hr(e,t,n,r){Object(o["d"])(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Ar(e.visibleWrites,t,n),e.lastWriteId=r}function Qr(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function Kr(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Object(o["d"])(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);var i=r.visible,s=!1,a=e.allWrites.length-1;while(i&&a>=0){var c=e.allWrites[a];c.visible&&(a>=n&&Gr(c,r.path)?i=!1:jt(r.path,c.path)&&(s=!0)),a--}if(i){if(s)return Yr(e),!0;if(r.snap)e.visibleWrites=Dr(e.visibleWrites,r.path);else{var u=r.children;q(u,(function(t){e.visibleWrites=Dr(e.visibleWrites,mt(r.path,t))}))}return!0}return!1}function Gr(e,t){if(e.snap)return jt(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&jt(mt(e.path,n),t))return!0;return!1}function Yr(e){e.visibleWrites=Jr(e.allWrites,$r,ht()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function $r(e){return e.visible}function Jr(e,t,n){for(var r=Nr.empty(),i=0;i<e.length;++i){var s=e[i];if(t(s)){var a=s.path,c=void 0;if(s.snap)jt(n,a)?(c=wt(n,a),r=Rr(r,c,s.snap)):jt(a,n)&&(c=wt(a,n),r=Rr(r,ht(),s.snap.getChild(c)));else{if(!s.children)throw Object(o["e"])("WriteRecord should have .snap or .children");if(jt(n,a))c=wt(n,a),r=Ar(r,c,s.children);else if(jt(a,n))if(c=wt(a,n),bt(c))r=Ar(r,ht(),s.children);else{var u=Object(o["z"])(s.children,ft(c));if(u){var l=u.getChild(dt(c));r=Rr(r,ht(),l)}}}}}return r}function Xr(e,t,n,r,i){if(r||i){var o=qr(e.visibleWrites,t);if(!i&&Wr(o))return n;if(i||null!=n||Lr(o,ht())){var s=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(jt(e.path,t)||jt(t,e.path))},a=Jr(e.allWrites,s,t);l=n||_n.EMPTY_NODE;return Ur(a,l)}return null}var c=Fr(e.visibleWrites,t);if(null!=c)return c;var u=qr(e.visibleWrites,t);if(Wr(u))return n;if(null!=n||Lr(u,ht())){var l=n||_n.EMPTY_NODE;return Ur(u,l)}return null}function Zr(e,t,n){var r=_n.EMPTY_NODE,i=Fr(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(hn,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=qr(e.visibleWrites,t);return n.forEachChild(hn,(function(e,t){var n=Ur(qr(o,new lt(e)),t);r=r.updateImmediateChild(e,n)})),Mr(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}var s=qr(e.visibleWrites,t);return Mr(s).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}function ei(e,t,n,r,i){Object(o["d"])(r||i,"Either existingEventSnap or existingServerSnap must exist");var s=mt(t,n);if(Lr(e.visibleWrites,s))return null;var a=qr(e.visibleWrites,s);return Wr(a)?i.getChild(n):Ur(a,i.getChild(n))}function ti(e,t,n,r){var i=mt(t,n),o=Fr(e.visibleWrites,i);if(null!=o)return o;if(r.isCompleteForChild(n)){var s=qr(e.visibleWrites,i);return Ur(s,r.getNode().getImmediateChild(n))}return null}function ni(e,t){return Fr(e.visibleWrites,t)}function ri(e,t,n,r,i,o,s){var a,c=qr(e.visibleWrites,t),u=Fr(c,ht());if(null!=u)a=u;else{if(null==n)return[];a=Ur(c,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];var l=[],h=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),p=f.getNext();while(p&&l.length<i)0!==h(p,r)&&l.push(p),p=f.getNext();return l}function ii(){return{visibleWrites:Nr.empty(),allWrites:[],lastWriteId:-1}}function oi(e,t,n,r){return Xr(e.writeTree,e.treePath,t,n,r)}function si(e,t){return Zr(e.writeTree,e.treePath,t)}function ai(e,t,n,r){return ei(e.writeTree,e.treePath,t,n,r)}function ci(e,t){return ni(e.writeTree,mt(e.treePath,t))}function ui(e,t,n,r,i,o){return ri(e.writeTree,e.treePath,t,n,r,i,o)}function li(e,t,n){return ti(e.writeTree,e.treePath,t,n)}function hi(e,t){return fi(mt(e.treePath,t),e.writeTree)}function fi(e,t){return{treePath:e,writeTree:t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pi=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;Object(o["d"])("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Object(o["d"])(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Dn(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,An(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Rn(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Object(o["e"])("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Dn(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),di=function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}(),vi=new di,yi=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new mr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return li(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:kr(this.viewCache_),i=ui(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function _i(e){return{filter:e}}function gi(e,t){Object(o["d"])(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),Object(o["d"])(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function mi(e,t,n,r,i){var s,a,c=new pi;if(n.type===ir.OVERWRITE){var u=n;u.source.fromUser?s=Oi(e,t,u.path,u.snap,r,i,c):(Object(o["d"])(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered()&&!bt(u.path),s=Ci(e,t,u.path,u.snap,r,i,a,c))}else if(n.type===ir.MERGE){var l=n;l.source.fromUser?s=Ei(e,t,l.path,l.children,r,i,c):(Object(o["d"])(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=Ti(e,t,l.path,l.children,r,i,a,c))}else if(n.type===ir.ACK_USER_WRITE){var h=n;s=h.revert?Ii(e,t,h.path,r,i,c):xi(e,t,h.path,h.affectedTree,r,i,c)}else{if(n.type!==ir.LISTEN_COMPLETE)throw Object(o["e"])("Unknown operation type: "+n.type);s=ki(e,t,n.path,r,c)}var f=c.getChanges();return bi(t,s,f),{viewCache:s,changes:f}}function bi(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=xr(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Nn(xr(t)))}}function wi(e,t,n,r,i,s){var a=t.eventCache;if(null!=ci(r,n))return t;var c=void 0,u=void 0;if(bt(n))if(Object(o["d"])(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=kr(t),h=l instanceof _n?l:_n.EMPTY_NODE,f=si(r,h);c=e.filter.updateFullNode(t.eventCache.getNode(),f,s)}else{var p=oi(r,kr(t));c=e.filter.updateFullNode(t.eventCache.getNode(),p,s)}else{var d=ft(n);if(".priority"===d){Object(o["d"])(1===pt(n),"Can't have a priority with additional path components");var v=a.getNode();u=t.serverCache.getNode();var y=ai(r,n,v,u);c=null!=y?e.filter.updatePriority(v,y):a.getNode()}else{var _=dt(n),g=void 0;if(a.isCompleteForChild(d)){u=t.serverCache.getNode();var m=ai(r,n,a.getNode(),u);g=null!=m?a.getNode().getImmediateChild(d).updateChild(_,m):a.getNode().getImmediateChild(d)}else g=li(r,d,t.serverCache);c=null!=g?e.filter.updateChild(a.getNode(),d,g,_,i,s):a.getNode()}}return Sr(t,c,a.isFullyInitialized()||bt(n),e.filter.filtersNodes())}function Ci(e,t,n,r,i,o,s,a){var c,u=t.serverCache,l=s?e.filter:e.filter.getIndexedFilter();if(bt(n))c=l.updateFullNode(u.getNode(),r,null);else if(l.filtersNodes()&&!u.isFiltered()){var h=u.getNode().updateChild(n,r);c=l.updateFullNode(u.getNode(),h,null)}else{var f=ft(n);if(!u.isCompleteForPath(n)&&pt(n)>1)return t;var p=dt(n),d=u.getNode().getImmediateChild(f),v=d.updateChild(p,r);c=".priority"===f?l.updatePriority(u.getNode(),v):l.updateChild(u.getNode(),f,v,p,vi,null)}var y=Tr(t,c,u.isFullyInitialized()||bt(n),l.filtersNodes()),_=new yi(i,y,o);return wi(e,y,n,i,_,a)}function Oi(e,t,n,r,i,o,s){var a,c,u=t.eventCache,l=new yi(i,t,o);if(bt(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,s),a=Sr(t,c,!0,e.filter.filtersNodes());else{var h=ft(n);if(".priority"===h)c=e.filter.updatePriority(t.eventCache.getNode(),r),a=Sr(t,c,u.isFullyInitialized(),u.isFiltered());else{var f=dt(n),p=u.getNode().getImmediateChild(h),d=void 0;if(bt(f))d=r;else{var v=l.getCompleteChild(h);d=null!=v?".priority"===vt(f)&&v.getChild(gt(f)).isEmpty()?v:v.updateChild(f,r):_n.EMPTY_NODE}if(p.equals(d))a=t;else{var y=e.filter.updateChild(u.getNode(),h,d,f,l,s);a=Sr(t,y,u.isFullyInitialized(),e.filter.filtersNodes())}}}return a}function ji(e,t){return e.eventCache.isCompleteForChild(t)}function Ei(e,t,n,r,i,o,s){var a=t;return r.foreach((function(r,c){var u=mt(n,r);ji(t,ft(u))&&(a=Oi(e,a,u,c,i,o,s))})),r.foreach((function(r,c){var u=mt(n,r);ji(t,ft(u))||(a=Oi(e,a,u,c,i,o,s))})),a}function Si(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Ti(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var c,u=t;c=bt(n)?r:new Pr(null).setTree(n,r);var l=t.serverCache.getNode();return c.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var c=t.serverCache.getNode().getImmediateChild(n),h=Si(e,c,r);u=Ci(e,u,new lt(n),h,i,o,s,a)}})),c.children.inorderTraversal((function(n,r){var c=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!c){var h=t.serverCache.getNode().getImmediateChild(n),f=Si(e,h,r);u=Ci(e,u,new lt(n),f,i,o,s,a)}})),u}function xi(e,t,n,r,i,o,s){if(null!=ci(i,n))return t;var a=t.serverCache.isFiltered(),c=t.serverCache;if(null!=r.value){if(bt(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Ci(e,t,n,c.getNode().getChild(n),i,o,a,s);if(bt(n)){var u=new Pr(null);return c.getNode().forEachChild(Ht,(function(e,t){u=u.set(new lt(e),t)})),Ti(e,t,n,u,i,o,a,s)}return t}var l=new Pr(null);return r.foreach((function(e,t){var r=mt(n,e);c.isCompleteForPath(r)&&(l=l.set(e,c.getNode().getChild(r)))})),Ti(e,t,n,l,i,o,a,s)}function ki(e,t,n,r,i){var o=t.serverCache,s=Tr(t,o.getNode(),o.isFullyInitialized()||bt(n),o.isFiltered());return wi(e,s,n,r,vi,i)}function Ii(e,t,n,r,i,s){var a;if(null!=ci(r,n))return t;var c=new yi(r,t,i),u=t.eventCache.getNode(),l=void 0;if(bt(n)||".priority"===ft(n)){var h=void 0;if(t.serverCache.isFullyInitialized())h=oi(r,kr(t));else{var f=t.serverCache.getNode();Object(o["d"])(f instanceof _n,"serverChildren would be complete if leaf node"),h=si(r,f)}h=h,l=e.filter.updateFullNode(u,h,s)}else{var p=ft(n),d=li(r,p,t.serverCache);null==d&&t.serverCache.isCompleteForChild(p)&&(d=u.getImmediateChild(p)),l=null!=d?e.filter.updateChild(u,p,d,dt(n),c,s):t.eventCache.getNode().hasChild(p)?e.filter.updateChild(u,p,_n.EMPTY_NODE,dt(n),c,s):u,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=oi(r,kr(t)),a.isLeafNode()&&(l=e.filter.updateFullNode(l,a,s)))}return a=t.serverCache.isFullyInitialized()||null!=ci(r,ht()),Sr(t,l,a,e.filter.filtersNodes())}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pi,Ni=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_._queryParams,r=new Fn(n.getIndex()),i=Un(n);this.processor_=_i(i);var o=t.serverCache,s=t.eventCache,a=r.updateFullNode(_n.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(_n.EMPTY_NODE,s.getNode(),null),u=new mr(a,o.isFullyInitialized(),r.filtersNodes()),l=new mr(c,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=Er(l,u),this.eventGenerator_=new br(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function Ri(e){return e.viewCache_.serverCache.getNode()}function Ai(e){return xr(e.viewCache_)}function Di(e,t){var n=kr(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!bt(t)&&!n.getImmediateChild(ft(t)).isEmpty())?n.getChild(t):null}function Li(e){return 0===e.eventRegistrations_.length}function Fi(e,t){e.eventRegistrations_.push(t)}function Mi(e,t,n){var r=[];if(n){Object(o["d"])(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var s=[],a=0;a<e.eventRegistrations_.length;++a){var c=e.eventRegistrations_[a];if(c.matches(t)){if(t.hasAnyCallback()){s=s.concat(e.eventRegistrations_.slice(a+1));break}}else s.push(c)}e.eventRegistrations_=s}else e.eventRegistrations_=[];return r}function qi(e,t,n,r){t.type===ir.MERGE&&null!==t.source.queryId&&(Object(o["d"])(kr(e.viewCache_),"We should always have a full cache before handling merges"),Object(o["d"])(xr(e.viewCache_),"Missing event cache, even though we have a server cache"));var i=e.viewCache_,s=mi(e.processor_,i,t,n,r);return gi(e.processor_,s.viewCache),Object(o["d"])(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Ui(e,s.changes,s.viewCache.eventCache.getNode(),null)}function Wi(e,t){var n=e.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(hn,(function(e,t){r.push(Rn(e,t))}))}return n.isFullyInitialized()&&r.push(Nn(n.getNode())),Ui(e,r,n.getNode(),t)}function Ui(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return wr(e.eventGenerator_,t,n,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bi,Vi=function(){function e(){this.views=new Map}return e}();function zi(e){Object(o["d"])(!Pi,"__referenceConstructor has already been defined"),Pi=e}function Hi(){return Object(o["d"])(Pi,"Reference.ts has not been loaded"),Pi}function Qi(e){return 0===e.views.size}function Ki(e,t,n,r){var i,a,c=t.source.queryId;if(null!==c){var u=e.views.get(c);return Object(o["d"])(null!=u,"SyncTree gave us an op for an invalid query."),qi(u,t,n,r)}var l=[];try{for(var h=Object(s["g"])(e.views.values()),f=h.next();!f.done;f=h.next()){u=f.value;l=l.concat(qi(u,t,n,r))}}catch(p){i={error:p}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}return l}function Gi(e,t,n,r,i){var o=t._queryIdentifier,s=e.views.get(o);if(!s){var a=oi(n,i?r:null),c=!1;a?c=!0:r instanceof _n?(a=si(n,r),c=!1):(a=_n.EMPTY_NODE,c=!1);var u=Er(new mr(a,c,!1),new mr(r,i,!1));return new Ni(t,u)}return s}function Yi(e,t,n,r,i,o){var s=Gi(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),Fi(s,n),Wi(s,n)}function $i(e,t,n,r){var i,o,a=t._queryIdentifier,c=[],u=[],l=to(e);if("default"===a)try{for(var h=Object(s["g"])(e.views.entries()),f=h.next();!f.done;f=h.next()){var p=Object(s["e"])(f.value,2),d=p[0],v=p[1];u=u.concat(Mi(v,n,r)),Li(v)&&(e.views.delete(d),v.query._queryParams.loadsAllData()||c.push(v.query))}}catch(y){i={error:y}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}else{v=e.views.get(a);v&&(u=u.concat(Mi(v,n,r)),Li(v)&&(e.views.delete(a),v.query._queryParams.loadsAllData()||c.push(v.query)))}return l&&!to(e)&&c.push(new(Hi())(t._repo,t._path)),{removed:c,events:u}}function Ji(e){var t,n,r=[];try{for(var i=Object(s["g"])(e.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Xi(e,t){var n,r,i=null;try{for(var o=Object(s["g"])(e.views.values()),a=o.next();!a.done;a=o.next()){var c=a.value;i=i||Di(c,t)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function Zi(e,t){var n=t._queryParams;if(n.loadsAllData())return no(e);var r=t._queryIdentifier;return e.views.get(r)}function eo(e,t){return null!=Zi(e,t)}function to(e){return null!=no(e)}function no(e){var t,n;try{for(var r=Object(s["g"])(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(e){Object(o["d"])(!Bi,"__referenceConstructor has already been defined"),Bi=e}function io(){return Object(o["d"])(Bi,"Reference.ts has not been loaded"),Bi}var oo=1,so=function(){function e(e){this.listenProvider_=e,this.syncPointTree_=new Pr(null),this.pendingWriteTree_=ii(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e}();function ao(e,t,n,r,i){return zr(e.pendingWriteTree_,t,n,r,i),i?wo(e,new _r(hr(),t,n)):[]}function co(e,t,n,r){Hr(e.pendingWriteTree_,t,n,r);var i=Pr.fromObject(n);return wo(e,new gr(hr(),t,i))}function uo(e,t,n){void 0===n&&(n=!1);var r=Qr(e.pendingWriteTree_,t),i=Kr(e.pendingWriteTree_,t);if(i){var o=new Pr(null);return null!=r.snap?o=o.set(ht(),!0):q(r.children,(function(e){o=o.set(new lt(e),!0)})),wo(e,new vr(r.path,o,n))}return[]}function lo(e,t,n){return wo(e,new _r(fr(),t,n))}function ho(e,t,n){var r=Pr.fromObject(n);return wo(e,new gr(fr(),t,r))}function fo(e,t){return wo(e,new yr(fr(),t))}function po(e,t,n){var r=To(e,n);if(r){var i=xo(r),o=i.path,s=i.queryId,a=wt(o,t),c=new yr(pr(s),a);return ko(e,o,c)}return[]}function vo(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),s=[];if(o&&("default"===t._queryIdentifier||eo(o,t))){var a=$i(o,t,n,r);Qi(o)&&(e.syncPointTree_=e.syncPointTree_.remove(i));var c=a.removed;s=a.events;var u=-1!==c.findIndex((function(e){return e._queryParams.loadsAllData()})),l=e.syncPointTree_.findOnPath(i,(function(e,t){return to(t)}));if(u&&!l){var h=e.syncPointTree_.subtree(i);if(!h.isEmpty())for(var f=Io(h),p=0;p<f.length;++p){var d=f[p],v=d.query,y=jo(e,d);e.listenProvider_.startListening(Po(v),Eo(e,v),y.hashFn,y.onComplete)}}if(!l&&c.length>0&&!r)if(u){var _=null;e.listenProvider_.stopListening(Po(t),_)}else c.forEach((function(t){var n=e.queryToTagMap.get(So(t));e.listenProvider_.stopListening(Po(t),n)}));No(e,c)}return s}function yo(e,t,n,r){var i=To(e,r);if(null!=i){var o=xo(i),s=o.path,a=o.queryId,c=wt(s,t),u=new _r(pr(a),c,n);return ko(e,s,u)}return[]}function _o(e,t,n,r){var i=To(e,r);if(i){var o=xo(i),s=o.path,a=o.queryId,c=wt(s,t),u=Pr.fromObject(n),l=new gr(pr(a),c,u);return ko(e,s,l)}return[]}function go(e,t,n){var r=t._path,i=null,s=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=wt(e,r);i=i||Xi(t,n),s=s||to(t)}));var a,c=e.syncPointTree_.get(r);if(c?(s=s||to(c),i=i||Xi(c,ht())):(c=new Vi,e.syncPointTree_=e.syncPointTree_.set(r,c)),null!=i)a=!0;else{a=!1,i=_n.EMPTY_NODE;var u=e.syncPointTree_.subtree(r);u.foreachChild((function(e,t){var n=Xi(t,ht());n&&(i=i.updateImmediateChild(e,n))}))}var l=eo(c,t);if(!l&&!t._queryParams.loadsAllData()){var h=So(t);Object(o["d"])(!e.queryToTagMap.has(h),"View does not exist, but we have a tag");var f=Ro();e.queryToTagMap.set(h,f),e.tagToQueryMap.set(f,h)}var p=Vr(e.pendingWriteTree_,r),d=Yi(c,t,n,p,i,a);if(!l&&!s){var v=Zi(c,t);d=d.concat(Ao(e,t,v))}return d}function mo(e,t,n){var r=!0,i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(function(e,n){var r=wt(e,t),i=Xi(n,r);if(i)return i}));return Xr(i,t,o,n,r)}function bo(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=wt(e,n);r=r||Xi(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Xi(i,ht()):(i=new Vi,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,s=o?new mr(r,!0,!1):null,a=Vr(e.pendingWriteTree_,t._path),c=Gi(i,t,a,o?s.getNode():_n.EMPTY_NODE,o);return Ai(c)}function wo(e,t){return Co(t,e.syncPointTree_,null,Vr(e.pendingWriteTree_,ht()))}function Co(e,t,n,r){if(bt(e.path))return Oo(e,t,n,r);var i=t.get(ht());null==n&&null!=i&&(n=Xi(i,ht()));var o=[],s=ft(e.path),a=e.operationForChild(s),c=t.children.get(s);if(c&&a){var u=n?n.getImmediateChild(s):null,l=hi(r,s);o=o.concat(Co(a,c,u,l))}return i&&(o=o.concat(Ki(i,e,r,n))),o}function Oo(e,t,n,r){var i=t.get(ht());null==n&&null!=i&&(n=Xi(i,ht()));var o=[];return t.children.inorderTraversal((function(t,i){var s=n?n.getImmediateChild(t):null,a=hi(r,t),c=e.operationForChild(t);c&&(o=o.concat(Oo(c,i,s,a)))})),i&&(o=o.concat(Ki(i,e,r,n))),o}function jo(e,t){var n=t.query,r=Eo(e,n);return{hashFn:function(){var e=Ri(t)||_n.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?po(e,n._path,r):fo(e,n._path);var i=V(t,n);return vo(e,n,null,i)}}}function Eo(e,t){var n=So(t);return e.queryToTagMap.get(n)}function So(e){return e._path.toString()+"$"+e._queryIdentifier}function To(e,t){return e.tagToQueryMap.get(t)}function xo(e){var t=e.indexOf("$");return Object(o["d"])(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new lt(e.substr(0,t))}}function ko(e,t,n){var r=e.syncPointTree_.get(t);Object(o["d"])(r,"Missing sync point for query tag that we're tracking");var i=Vr(e.pendingWriteTree_,t);return Ki(r,n,i,null)}function Io(e){return e.fold((function(e,t,n){if(t&&to(t)){var r=no(t);return[r]}var i=[];return t&&(i=Ji(t)),q(n,(function(e,t){i=i.concat(t)})),i}))}function Po(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(io())(e._repo,e._path):e}function No(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=So(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}function Ro(){return oo++}function Ao(e,t,n){var r=t._path,i=Eo(e,t),s=jo(e,n),a=e.listenProvider_.startListening(Po(t),i,s.hashFn,s.onComplete),c=e.syncPointTree_.subtree(r);if(i)Object(o["d"])(!to(c.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=c.fold((function(e,t,n){if(!bt(e)&&t&&to(t))return[no(t).query];var r=[];return t&&(r=r.concat(Ji(t).map((function(e){return e.query})))),q(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<u.length;++l){var h=u[l];e.listenProvider_.stopListening(Po(h),Eo(e,h))}return a}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Do=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){var n=this.node_.getImmediateChild(t);return new e(n)},e.prototype.node=function(){return this.node_},e}(),Lo=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=mt(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return mo(this.syncTree_,this.path_)},e}(),Fo=function(e){return e=e||{},e["timestamp"]=e["timestamp"]||(new Date).getTime(),e},Mo=function(e,t,n){return e&&"object"===typeof e?(Object(o["d"])(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?qo(e[".sv"],t,n):"object"===typeof e[".sv"]?Wo(e[".sv"],t):void Object(o["d"])(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},qo=function(e,t,n){switch(e){case"timestamp":return n["timestamp"];default:Object(o["d"])(!1,"Unexpected server value: "+e)}},Wo=function(e,t,n){e.hasOwnProperty("increment")||Object(o["d"])(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e["increment"];"number"!==typeof r&&Object(o["d"])(!1,"Unexpected increment value: "+r);var i=t.node();if(Object(o["d"])(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i,a=s.getValue();return"number"!==typeof a?r:a+r},Uo=function(e,t,n,r){return Vo(t,new Lo(n,e),r)},Bo=function(e,t,n){return Vo(e,new Do(t),n)};function Vo(e,t,n){var r,i=e.getPriority().val(),o=Mo(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var s=e,a=Mo(s.getValue(),t,n);return a!==s.getValue()||o!==s.getPriority().val()?new on(a,wn(o)):e}var c=e;return r=c,o!==c.getPriority().val()&&(r=r.updatePriority(new on(o))),c.forEachChild(hn,(function(e,i){var o=Vo(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zo=function(){function e(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n}return e}();function Ho(e,t){var n=t instanceof lt?t:new lt(t),r=e,i=ft(n);while(null!==i){var s=Object(o["z"])(r.node.children,i)||{children:{},childCount:0};r=new zo(i,r,s),n=dt(n),i=ft(n)}return r}function Qo(e){return e.node.value}function Ko(e,t){e.node.value=t,es(e)}function Go(e){return e.node.childCount>0}function Yo(e){return void 0===Qo(e)&&!Go(e)}function $o(e,t){q(e.node.children,(function(n,r){t(new zo(n,e,r))}))}function Jo(e,t,n,r){n&&!r&&t(e),$o(e,(function(e){Jo(e,t,!0,r)})),n&&r&&t(e)}function Xo(e,t,n){var r=n?e:e.parent;while(null!==r){if(t(r))return!0;r=r.parent}return!1}function Zo(e){return new lt(null===e.parent?e.name:Zo(e.parent)+"/"+e.name)}function es(e){null!==e.parent&&ts(e.parent,e.name,e)}function ts(e,t,n){var r=Yo(n),i=Object(o["h"])(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,es(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,es(e))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ns=/[\[\].#$\/\u0000-\u001F\u007F]/,rs=/[\[\].#$\u0000-\u001F\u007F]/,is=10485760,os=function(e){return"string"===typeof e&&0!==e.length&&!ns.test(e)},ss=function(e){return"string"===typeof e&&0!==e.length&&!rs.test(e)},as=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ss(e)},cs=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!I(e)||e&&"object"===typeof e&&Object(o["h"])(e,".sv")},us=function(e,t,n,r){r&&void 0===t||ls(Object(o["m"])(e,"value"),t,n)},ls=function(e,t,n){var r=n instanceof lt?new Et(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+kt(r));if("function"===typeof t)throw new Error(e+"contains a function "+kt(r)+" with contents = "+t.toString());if(I(t))throw new Error(e+"contains "+t.toString()+" "+kt(r));if("string"===typeof t&&t.length>is/3&&Object(o["A"])(t)>is)throw new Error(e+"contains a string greater than "+is+" utf8 bytes "+kt(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){var i=!1,s=!1;if(q(t,(function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(s=!0,!os(t)))throw new Error(e+" contains an invalid key ("+t+") "+kt(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');St(r,t),ls(e,n,r),Tt(r)})),i&&s)throw new Error(e+' contains ".value" child '+kt(r)+" in addition to actual children.")}},hs=function(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];for(var i=_t(r),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!os(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Ct);var s=null;for(n=0;n<t.length;n++){if(r=t[n],null!==s&&jt(s,r))throw new Error(e+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},fs=function(e,t,n,r){if(!r||void 0!==t){var i=Object(o["m"])(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var s=[];q(t,(function(e,t){var r=new lt(e);if(ls(i,t,mt(n,r)),".priority"===vt(r)&&!cs(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(r)})),hs(i,s)}},ps=function(e,t,n){if(!n||void 0!==t){if(I(t))throw new Error(Object(o["m"])(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!cs(t))throw new Error(Object(o["m"])(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ds=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(o["m"])(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},vs=function(e,t,n,r){if((!r||void 0!==n)&&!os(n))throw new Error(Object(o["m"])(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ys=function(e,t,n,r){if((!r||void 0!==n)&&!ss(n))throw new Error(Object(o["m"])(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},_s=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ys(e,t,n,r)},gs=function(e,t){if(".info"===ft(t))throw new Error(e+" failed = Can't modify data under /.info/")},ms=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!os(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!as(n))throw new Error(Object(o["m"])(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},bs=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(Object(o["m"])(e,t)+"must be a boolean.")},ws=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e}();function Cs(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||Ot(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Os(e,t,n){Cs(e,n),Es(e,(function(e){return Ot(e,t)}))}function js(e,t,n){Cs(e,n),Es(e,(function(e){return jt(e,t)||jt(t,e)}))}function Es(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i){var o=i.path;t(o)?(Ss(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Ss(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();w&&j("event: "+n.toString()),G(r)}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ts="repo_interrupt",xs=25,ks=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ws,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zn(),this.transactionQueueTree_=new zo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function Is(e,t,n){if(e.stats_=_e(e.repoInfo_),e.forceRestClient_||Y())e.server_=new Jn(e.repoInfo_,(function(t,n,r,i){Rs(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return Ds(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(o["C"])(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Ut(e.repoInfo_,t,(function(t,n,r,i){Rs(e,t,n,r,i)}),(function(t){Ds(e,t)}),(function(t){Ls(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=ge(e.repoInfo_,(function(){return new ur(e.stats_,e.server_)})),e.infoData_=new Xn,e.infoSyncTree_=new so({startListening:function(t,n,r,i){var o=[],s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=lo(e.infoSyncTree_,t._path,s),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),Fs(e,"connected",!1),e.serverSyncTree_=new so({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);js(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function Ps(e){var t=e.infoData_.getNode(new lt(".info/serverTimeOffset")),n=t.val()||0;return(new Date).getTime()+n}function Ns(e){return Fo({timestamp:Ps(e)})}function Rs(e,t,n,r,i){e.dataUpdateCount++;var s=new lt(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a=[];if(i)if(r){var c=Object(o["x"])(n,(function(e){return wn(e)}));a=_o(e.serverSyncTree_,s,c,i)}else{var u=wn(n);a=yo(e.serverSyncTree_,s,u,i)}else if(r){var l=Object(o["x"])(n,(function(e){return wn(e)}));a=ho(e.serverSyncTree_,s,l)}else{var h=wn(n);a=lo(e.serverSyncTree_,s,h)}var f=s;a.length>0&&(f=oa(e,s)),js(e.eventQueue_,f,a)}function As(e,t){e.interceptServerDataCallback_=t}function Ds(e,t){Fs(e,"connected",t),!1===t&&Bs(e)}function Ls(e,t){q(t,(function(t,n){Fs(e,t,n)}))}function Fs(e,t,n){var r=new lt("/.info/"+t),i=wn(n);e.infoData_.updateSnapshot(r,i);var o=lo(e.infoSyncTree_,r,i);js(e.eventQueue_,r,o)}function Ms(e){return e.nextWriteId_++}function qs(e,t){var n=bo(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=wn(n).withIndex(t._queryParams.getIndex()),i=lo(e.serverSyncTree_,t._path,r);return Os(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return Zs(e,"get for query "+Object(o["C"])(t)+" failed: "+n),Promise.reject(new Error(n))}))}function Ws(e,t,n,r,i){Zs(e,"set",{path:t.toString(),value:n,priority:r});var o=Ns(e),s=wn(n,r),a=mo(e.serverSyncTree_,t),c=Bo(s,a,o),u=Ms(e),l=ao(e.serverSyncTree_,t,c,u,!0);Cs(e.eventQueue_,l),e.server_.put(t.toString(),s.val(!0),(function(n,r){var o="ok"===n;o||x("set at "+t+" failed: "+n);var s=uo(e.serverSyncTree_,u,!o);js(e.eventQueue_,t,s),ea(e,i,n,r)}));var h=ha(e,t);oa(e,h),js(e.eventQueue_,h,[])}function Us(e,t,n,r){Zs(e,"update",{path:t.toString(),value:n});var i=!0,o=Ns(e),s={};if(q(n,(function(n,r){i=!1,s[n]=Uo(mt(t,n),wn(r),e.serverSyncTree_,o)})),i)j("update() called with empty data.  Don't do anything."),ea(e,r,"ok",void 0);else{var a=Ms(e),c=co(e.serverSyncTree_,t,s,a);Cs(e.eventQueue_,c),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||x("update at "+t+" failed: "+n);var s=uo(e.serverSyncTree_,a,!o),c=s.length>0?oa(e,t):t;js(e.eventQueue_,c,s),ea(e,r,n,i)})),q(n,(function(n){var r=ha(e,mt(t,n));oa(e,r)})),js(e.eventQueue_,t,[])}}function Bs(e){Zs(e,"onDisconnectEvents");var t=Ns(e),n=Zn();nr(e.onDisconnect_,ht(),(function(r,i){var o=Uo(r,i,e.serverSyncTree_,t);er(n,r,o)}));var r=[];nr(n,ht(),(function(t,n){r=r.concat(lo(e.serverSyncTree_,t,n));var i=ha(e,t);oa(e,i)})),e.onDisconnect_=Zn(),js(e.eventQueue_,ht(),r)}function Vs(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&tr(e.onDisconnect_,t),ea(e,n,r,i)}))}function zs(e,t,n,r){var i=wn(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&er(e.onDisconnect_,t,i),ea(e,r,n,o)}))}function Hs(e,t,n,r,i){var o=wn(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&er(e.onDisconnect_,t,o),ea(e,i,n,r)}))}function Qs(e,t,n,r){if(Object(o["q"])(n))return j("onDisconnect().update() called with empty data.  Don't do anything."),void ea(e,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&q(n,(function(n,r){var i=wn(r);er(e.onDisconnect_,mt(t,n),i)})),ea(e,r,i,o)}))}function Ks(e,t,n){var r;r=".info"===ft(t._path)?go(e.infoSyncTree_,t,n):go(e.serverSyncTree_,t,n),Os(e.eventQueue_,t._path,r)}function Gs(e,t,n){var r;r=".info"===ft(t._path)?vo(e.infoSyncTree_,t,n):vo(e.serverSyncTree_,t,n),Os(e.eventQueue_,t._path,r)}function Ys(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Ts)}function $s(e){e.persistentConnection_&&e.persistentConnection_.resume(Ts)}function Js(e,t){if(void 0===t&&(t=!1),"undefined"!==typeof console){var n;t?(e.statsListener_||(e.statsListener_=new or(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);q(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}function Xs(e,t){e.stats_.incrementCounter(t),lr(e.statsReporter_,t)}function Zs(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),j.apply(void 0,Object(s["f"])([r],Object(s["e"])(t)))}function ea(e,t,n,r){t&&G((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function ta(e,t,n,r,i,s){Zs(e,"transaction on "+t);var a={path:t,update:n,onComplete:r,status:null,order:g(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=na(e,t,void 0);a.currentInputSnapshot=c;var u=a.update(c.val());if(void 0===u)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{ls("transaction failed: Data returned ",u,a.path),a.status=0;var l=Ho(e.transactionQueueTree_,t),h=Qo(l)||[];h.push(a),Ko(l,h);var f=void 0;if("object"===typeof u&&null!==u&&Object(o["h"])(u,".priority"))f=Object(o["z"])(u,".priority"),Object(o["d"])(cs(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var p=mo(e.serverSyncTree_,t)||_n.EMPTY_NODE;f=p.getPriority().val()}var d=Ns(e),v=wn(u,f),y=Bo(v,c,d);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=y,a.currentWriteId=Ms(e);var _=ao(e.serverSyncTree_,t,y,a.currentWriteId,a.applyLocally);js(e.eventQueue_,t,_),ra(e,e.transactionQueueTree_)}}function na(e,t,n){return mo(e.serverSyncTree_,t,n)||_n.EMPTY_NODE}function ra(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||la(e,t),Qo(t)){var n=ca(e,t);Object(o["d"])(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&ia(e,Zo(t),n)}else Go(t)&&$o(t,(function(t){ra(e,t)}))}function ia(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=na(e,t,r),s=i,a=i.hash(),c=0;c<n.length;c++){var u=n[c];Object(o["d"])(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var l=wt(t,u.path);s=s.updateChild(l,u.currentOutputSnapshotRaw)}var h=s.val(!0),f=t;e.server_.put(f.toString(),h,(function(r){Zs(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=function(t){n[t].status=2,i=i.concat(uo(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},a=0;a<n.length;a++)s(a);la(e,Ho(e.transactionQueueTree_,t)),ra(e,e.transactionQueueTree_),js(e.eventQueue_,t,i);for(a=0;a<o.length;a++)G(o[a])}else{if("datastale"===r)for(a=0;a<n.length;a++)3===n[a].status?n[a].status=4:n[a].status=0;else{x("transaction at "+f.toString()+" failed: "+r);for(a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=r}oa(e,t)}}),a)}function oa(e,t){var n=aa(e,t),r=Zo(n),i=ca(e,n);return sa(e,i,r),r}function sa(e,t,n){if(0!==t.length){for(var r=[],i=[],s=t.filter((function(e){return 0===e.status})),a=s.map((function(e){return e.currentWriteId})),c=function(s){var c,u=t[s],l=wt(n,u.path),h=!1;if(Object(o["d"])(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)h=!0,c=u.abortReason,i=i.concat(uo(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=xs)h=!0,c="maxretry",i=i.concat(uo(e.serverSyncTree_,u.currentWriteId,!0));else{var f=na(e,u.path,a);u.currentInputSnapshot=f;var p=t[s].update(f.val());if(void 0!==p){ls("transaction failed: Data returned ",p,u.path);var d=wn(p),v="object"===typeof p&&null!=p&&Object(o["h"])(p,".priority");v||(d=d.updatePriority(f.getPriority()));var y=u.currentWriteId,_=Ns(e),g=Bo(d,f,_);u.currentOutputSnapshotRaw=d,u.currentOutputSnapshotResolved=g,u.currentWriteId=Ms(e),a.splice(a.indexOf(y),1),i=i.concat(ao(e.serverSyncTree_,u.path,g,u.currentWriteId,u.applyLocally)),i=i.concat(uo(e.serverSyncTree_,y,!0))}else h=!0,c="nodata",i=i.concat(uo(e.serverSyncTree_,u.currentWriteId,!0))}js(e.eventQueue_,n,i),i=[],h&&(t[s].status=2,function(e){setTimeout(e,Math.floor(0))}(t[s].unwatcher),t[s].onComplete&&("nodata"===c?r.push((function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)})):r.push((function(){return t[s].onComplete(new Error(c),!1,null)}))))},u=0;u<t.length;u++)c(u);la(e,e.transactionQueueTree_);for(u=0;u<r.length;u++)G(r[u]);ra(e,e.transactionQueueTree_)}}function aa(e,t){var n,r=e.transactionQueueTree_;n=ft(t);while(null!==n&&void 0===Qo(r))r=Ho(r,n),t=dt(t),n=ft(t);return r}function ca(e,t){var n=[];return ua(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function ua(e,t,n){var r=Qo(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);$o(t,(function(t){ua(e,t,n)}))}function la(e,t){var n=Qo(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Ko(t,n.length>0?n:void 0)}$o(t,(function(t){la(e,t)}))}function ha(e,t){var n=Zo(aa(e,t)),r=Ho(e.transactionQueueTree_,t);return Xo(r,(function(t){fa(e,t)})),fa(e,r),Jo(r,(function(t){fa(e,t)})),n}function fa(e,t){var n=Qo(t);if(n){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(Object(o["d"])(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(Object(o["d"])(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(uo(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));-1===s?Ko(t,void 0):n.length=s+1,js(e.eventQueue_,Zo(t),i);for(a=0;a<r.length;a++)G(r[a])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}function da(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=Object(s["g"])(e.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(0!==a.length){var c=a.split("=");2===c.length?r[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):x("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}var va=function(e,t){var n=ya(e),r=n.namespace;"firebase.com"===n.domain&&T(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||T("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||k();var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new he(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new lt(n.pathString)}},ya=function(e){var t="",n="",r="",i="",o="",s=!0,a="https",c=443;if("string"===typeof e){var u=e.indexOf("//");u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2));var l=e.indexOf("/");-1===l&&(l=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(l,h)),l<h&&(i=pa(e.substring(l,h)));var f=da(e.substring(Math.min(e.length,h)));u=t.indexOf(":"),u>=0?(s="https"===a||"wss"===a,c=parseInt(t.substring(u+1),10)):u=t.length;var p=t.slice(0,u);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var d=t.indexOf(".");r=t.substring(0,d).toLowerCase(),n=t.substring(d+1),o=r}"ns"in f&&(o=f["ns"])}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},_a=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(o["C"])(this.snapshot.exportVal())},e}(),ga=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),ma=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return Object(o["d"])(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),ba=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new o["a"];return Vs(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){gs("OnDisconnect.remove",this._path);var e=new o["a"];return zs(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){gs("OnDisconnect.set",this._path),us("OnDisconnect.set",e,this._path,!1);var t=new o["a"];return zs(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){gs("OnDisconnect.setWithPriority",this._path),us("OnDisconnect.setWithPriority",e,this._path,!1),ps("OnDisconnect.setWithPriority",t,!1);var n=new o["a"];return Hs(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){gs("OnDisconnect.update",this._path),fs("OnDisconnect.update",e,this._path,!1);var t=new o["a"];return Qs(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),wa=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return bt(this._path)?null:vt(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Ea(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=$n(this._queryParams),t=F(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return $n(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(t=Object(o["n"])(t),!(t instanceof e))return!1;var n=this._repo===t._repo,r=Ot(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+yt(this._path)},e}();function Ca(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Oa(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Ht){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){var s=e.getIndexStartName();if(s!==N)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){var a=e.getIndexEndName();if(a!==R)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===hn){if(null!=t&&!cs(t)||null!=n&&!cs(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(o["d"])(e.getIndex()instanceof Cn||e.getIndex()===jn,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function ja(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Ea=function(e){function t(t,n){return e.call(this,t,n,new Wn,!1)||this}return Object(s["c"])(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=gt(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var e=this;while(null!==e.parent)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(wa),Sa=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new lt(t),r=ka(this.ref,t);return new e(this._node.getChild(n),r,hn)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,(function(r,i){return t(new e(i,ka(n.ref,r),hn))}))},e.prototype.hasChild=function(e){var t=new lt(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function Ta(e,t){return e=Object(o["n"])(e),e._checkNotDeleted("ref"),void 0!==t?ka(e._root,t):e._root}function xa(e,t){e=Object(o["n"])(e),e._checkNotDeleted("refFromURL");var n=va(t,e._repo.repoInfo_.nodeAdmin);ms("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||T("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),Ta(e,n.path.toString())}function ka(e,t){return e=Object(o["n"])(e),null===ft(e._path)?_s("child","path",t,!1):ys("child","path",t,!1),new Ea(e._repo,mt(e._path,t))}function Ia(e,t){e=Object(o["n"])(e),gs("push",e._path),us("push",t,e._path,!0);var n,r=Ps(e._repo),i=kn(r),s=ka(e,i),a=ka(e,i);return n=null!=t?Na(a,t).then((function(){return a})):Promise.resolve(a),s.then=n.then.bind(n),s.catch=n.then.bind(n,void 0),s}function Pa(e){return gs("remove",e._path),Na(e,null)}function Na(e,t){e=Object(o["n"])(e),gs("set",e._path),us("set",t,e._path,!1);var n=new o["a"];return Ws(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Ra(e,t){e=Object(o["n"])(e),gs("setPriority",e._path),ps("setPriority",t,!1);var n=new o["a"];return Ws(e._repo,mt(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function Aa(e,t,n){if(gs("setWithPriority",e._path),us("setWithPriority",t,e._path,!1),ps("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new o["a"];return Ws(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function Da(e,t){fs("update",t,e._path,!1);var n=new o["a"];return Us(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function La(e){return e=Object(o["n"])(e),qs(e._repo,e).then((function(t){return new Sa(t,new Ea(e._repo,e._path),e._queryParams.getIndex())}))}var Fa=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new _a("value",this,new Sa(e.snapshotNode,new Ea(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new ga(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),Ma=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new ga(this,e,t):null},e.prototype.createEvent=function(e,t){Object(o["d"])(null!=e.childName,"Child events should have a childName.");var n=ka(new Ea(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new _a(e.type,this,new Sa(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function qa(e,t,n,r,i){var o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){var s=n,a=function(t,n){Gs(e._repo,e,u),s(t,n)};a.userCallback=n.userCallback,a.context=n.context,n=a}var c=new ma(n,o||void 0),u="value"===t?new Fa(c):new Ma(t,c);return Ks(e._repo,e,u),function(){return Gs(e._repo,e,u)}}function Wa(e,t,n,r){return qa(e,"value",t,n,r)}function Ua(e,t,n,r){return qa(e,"child_added",t,n,r)}function Ba(e,t,n,r){return qa(e,"child_changed",t,n,r)}function Va(e,t,n,r){return qa(e,"child_moved",t,n,r)}function za(e,t,n,r){return qa(e,"child_removed",t,n,r)}function Ha(e,t,n){var r=null,i=n?new ma(n):null;"value"===t?r=new Fa(i):t&&(r=new Ma(t,i)),Gs(e._repo,e,r)}var Qa=function(){function e(){}return e}(),Ka=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(s["c"])(t,e),t.prototype._apply=function(e){us("endAt",this._value,e._path,!0);var t=Qn(e._queryParams,this._value,this._key);if(ja(t),Oa(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new wa(e._repo,e._path,t,e._orderByCalled)},t}(Qa);function Ga(e,t){return vs("endAt","key",t,!0),new Ka(e,t)}var Ya=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(s["c"])(t,e),t.prototype._apply=function(e){us("endBefore",this._value,e._path,!1);var t=Kn(e._queryParams,this._value,this._key);if(ja(t),Oa(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new wa(e._repo,e._path,t,e._orderByCalled)},t}(Qa);function $a(e,t){return vs("endBefore","key",t,!0),new Ya(e,t)}var Ja=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(s["c"])(t,e),t.prototype._apply=function(e){us("startAt",this._value,e._path,!0);var t=zn(e._queryParams,this._value,this._key);if(ja(t),Oa(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new wa(e._repo,e._path,t,e._orderByCalled)},t}(Qa);function Xa(e,t){return void 0===e&&(e=null),vs("startAt","key",t,!0),new Ja(e,t)}var Za=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(s["c"])(t,e),t.prototype._apply=function(e){us("startAfter",this._value,e._path,!1);var t=Hn(e._queryParams,this._value,this._key);if(ja(t),Oa(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new wa(e._repo,e._path,t,e._orderByCalled)},t}(Qa);function ec(e,t){return vs("startAfter","key",t,!0),new Za(e,t)}var tc=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Object(s["c"])(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new wa(e._repo,e._path,Bn(e._queryParams,this._limit),e._orderByCalled)},t}(Qa);function nc(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new tc(e)}var rc=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Object(s["c"])(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new wa(e._repo,e._path,Vn(e._queryParams,this._limit),e._orderByCalled)},t}(Qa);function ic(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new rc(e)}var oc=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return Object(s["c"])(t,e),t.prototype._apply=function(e){Ca(e,"orderByChild");var t=new lt(this._path);if(bt(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new Cn(t),r=Gn(e._queryParams,n);return Oa(r),new wa(e._repo,e._path,r,!0)},t}(Qa);function sc(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ys("orderByChild","path",e,!1),new oc(e)}var ac=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s["c"])(t,e),t.prototype._apply=function(e){Ca(e,"orderByKey");var t=Gn(e._queryParams,Ht);return Oa(t),new wa(e._repo,e._path,t,!0)},t}(Qa);function cc(){return new ac}var uc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s["c"])(t,e),t.prototype._apply=function(e){Ca(e,"orderByPriority");var t=Gn(e._queryParams,hn);return Oa(t),new wa(e._repo,e._path,t,!0)},t}(Qa);function lc(){return new uc}var hc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s["c"])(t,e),t.prototype._apply=function(e){Ca(e,"orderByValue");var t=Gn(e._queryParams,jn);return Oa(t),new wa(e._repo,e._path,t,!0)},t}(Qa);function fc(){return new hc}var pc=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(s["c"])(t,e),t.prototype._apply=function(e){if(us("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Ka(this._value,this._key)._apply(new Ja(this._value,this._key)._apply(e))},t}(Qa);function dc(e,t){return vs("equalTo","key",t,!0),new pc(e,t)}function vc(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var a=Object(o["n"])(e);try{for(var c=Object(s["g"])(r),u=c.next();!u.done;u=c.next()){var l=u.value;a=l._apply(a)}}catch(h){t={error:h}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return a}zi(Ea),ro(Ea);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var yc="FIREBASE_DATABASE_EMULATOR_HOST",_c={},gc=!1;function mc(e,t,n,r){e.repoInfo_=new he(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function bc(t,n,r,i,o){var s=i||t.options.databaseURL;void 0===s&&(t.options.projectId||T("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),j("Using default host for project ",t.options.projectId),s=t.options.projectId+"-default-rtdb.firebaseio.com");var a,c=va(s,o),u=c.repoInfo,l=void 0;"undefined"!==typeof e&&(l=Object({NODE_ENV:"production",BASE_URL:"/"})[yc]),l?(a=!0,s="http://"+l+"?ns="+u.namespace,c=va(s,o),u=c.repoInfo):a=!c.repoInfo.secure;var h=o&&a?new Z(Z.OWNER):new X(t.name,t.options,n);ms("Invalid Firebase Database URL",c),bt(c.path)||T("Database URL must point to the root of a Firebase Database (not including a child path).");var f=Cc(u,t,h,new J(t.name,r));return new jc(f,t)}function wc(e,t){var n=_c[t];n&&n[e.key]===e||T("Database "+t+"("+e.repoInfo_+") has already been deleted."),Ys(e),delete n[e.key]}function Cc(e,t,n,r){var i=_c[t.name];i||(i={},_c[t.name]=i);var o=i[e.toURLString()];return o&&T("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new ks(e,gc,n,r),i[e.toURLString()]=o,o}function Oc(e){gc=e}var jc=function(){function e(e,t){this._repoInternal=e,this.app=t,this["type"]="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(Is(this._repoInternal,this.app.options.appId,this.app.options["databaseAuthVariableOverride"]),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Ea(this._repo,ht())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return null!==this._rootInternal&&(wc(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&T("Cannot call "+e+" on a deleted database.")},e}();function Ec(e,t,n,r){void 0===r&&(r={}),e=Object(o["n"])(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&T("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,s=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&T('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Z(Z.OWNER);else if(r.mockUserToken){var a="string"===typeof r.mockUserToken?r.mockUserToken:Object(o["i"])(r.mockUserToken,e.app.options.projectId);s=new Z(a)}mc(i,t,n,s)}function Sc(e){e=Object(o["n"])(e),e._checkNotDeleted("goOffline"),Ys(e._repo)}function Tc(e){e=Object(o["n"])(e),e._checkNotDeleted("goOnline"),$s(e._repo)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xc={".sv":"timestamp"};function kc(){return xc}function Ic(e){return{".sv":{increment:e}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pc=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function Nc(e,t,n){var r;if(e=Object(o["n"])(e),gs("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,s=new o["a"],a=function(t,n,r){var i=null;t?s.reject(t):(i=new Sa(r,new Ea(e._repo,e._path),hn),s.resolve(new Pc(n,i)))},c=Wa(e,(function(){}));return ta(e._repo,e._path,t,a,c,i),s.promise}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rc=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){Object(o["D"])("OnDisconnect.cancel",0,1,arguments.length),Object(o["E"])("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){Object(o["D"])("OnDisconnect.remove",0,1,arguments.length),Object(o["E"])("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){Object(o["D"])("OnDisconnect.set",1,2,arguments.length),Object(o["E"])("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){Object(o["D"])("OnDisconnect.setWithPriority",2,3,arguments.length),Object(o["E"])("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if(Object(o["D"])("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,x("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(o["E"])("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),Ac=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return Object(o["D"])("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Dc=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return Object(o["D"])("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return Object(o["D"])("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return Object(o["D"])("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return Object(o["D"])("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return Object(o["D"])("DataSnapshot.child",0,1,arguments.length),t=String(t),ys("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return Object(o["D"])("DataSnapshot.hasChild",1,1,arguments.length),ys("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return Object(o["D"])("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return Object(o["D"])("DataSnapshot.forEach",1,1,arguments.length),Object(o["E"])("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return Object(o["D"])("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return Object(o["D"])("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return Object(o["D"])("DataSnapshot.ref",0,0,arguments.length),new Fc(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Lc=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var s,a=this;Object(o["D"])("Query.on",2,4,arguments.length),Object(o["E"])("Query.on","callback",n,!1);var c=e.getCancelAndContextArgs_("Query.on",r,i),u=function(e,t){n.call(c.context,new Dc(a.database,e),t)};u.userCallback=n,u.context=c.context;var l=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(t){case"value":return Wa(this._delegate,u,l),n;case"child_added":return Ua(this._delegate,u,l),n;case"child_removed":return za(this._delegate,u,l),n;case"child_changed":return Ba(this._delegate,u,l),n;case"child_moved":return Va(this._delegate,u,l),n;default:throw new Error(Object(o["m"])("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if(Object(o["D"])("Query.off",0,3,arguments.length),ds("Query.off",e,!0),Object(o["E"])("Query.off","callback",t,!0),Object(o["F"])("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,Ha(this._delegate,e,r)}else Ha(this._delegate,e)},e.prototype.get=function(){var e=this;return La(this._delegate).then((function(t){return new Dc(e.database,t)}))},e.prototype.once=function(t,n,r,i){var s=this;Object(o["D"])("Query.once",1,4,arguments.length),Object(o["E"])("Query.once","callback",n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,i),c=new o["a"],u=function(e,t){var r=new Dc(s.database,e);n&&n.call(a.context,r,t),c.resolve(r)};u.userCallback=n,u.context=a.context;var l=function(e){a.cancel&&a.cancel.call(a.context,e),c.reject(e)};switch(t){case"value":Wa(this._delegate,u,l,{onlyOnce:!0});break;case"child_added":Ua(this._delegate,u,l,{onlyOnce:!0});break;case"child_removed":za(this._delegate,u,l,{onlyOnce:!0});break;case"child_changed":Ba(this._delegate,u,l,{onlyOnce:!0});break;case"child_moved":Va(this._delegate,u,l,{onlyOnce:!0});break;default:throw new Error(Object(o["m"])("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise},e.prototype.limitToFirst=function(t){return Object(o["D"])("Query.limitToFirst",1,1,arguments.length),new e(this.database,vc(this._delegate,nc(t)))},e.prototype.limitToLast=function(t){return Object(o["D"])("Query.limitToLast",1,1,arguments.length),new e(this.database,vc(this._delegate,ic(t)))},e.prototype.orderByChild=function(t){return Object(o["D"])("Query.orderByChild",1,1,arguments.length),new e(this.database,vc(this._delegate,sc(t)))},e.prototype.orderByKey=function(){return Object(o["D"])("Query.orderByKey",0,0,arguments.length),new e(this.database,vc(this._delegate,cc()))},e.prototype.orderByPriority=function(){return Object(o["D"])("Query.orderByPriority",0,0,arguments.length),new e(this.database,vc(this._delegate,lc()))},e.prototype.orderByValue=function(){return Object(o["D"])("Query.orderByValue",0,0,arguments.length),new e(this.database,vc(this._delegate,fc()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),Object(o["D"])("Query.startAt",0,2,arguments.length),new e(this.database,vc(this._delegate,Xa(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),Object(o["D"])("Query.startAfter",0,2,arguments.length),new e(this.database,vc(this._delegate,ec(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),Object(o["D"])("Query.endAt",0,2,arguments.length),new e(this.database,vc(this._delegate,Ga(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),Object(o["D"])("Query.endBefore",0,2,arguments.length),new e(this.database,vc(this._delegate,$a(t,n)))},e.prototype.equalTo=function(t,n){return Object(o["D"])("Query.equalTo",1,2,arguments.length),new e(this.database,vc(this._delegate,dc(t,n)))},e.prototype.toString=function(){return Object(o["D"])("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return Object(o["D"])("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(Object(o["D"])("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Object(o["E"])(e,"cancel",r.cancel,!0),r.context=n,Object(o["F"])(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(Object(o["m"])(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new Fc(this.database,new Ea(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Fc=function(e){function t(t,n){var r=e.call(this,t,new wa(n._repo,n._path,new Wn,!1))||this;return r.database=t,r._delegate=n,r}return Object(s["c"])(t,e),t.prototype.getKey=function(){return Object(o["D"])("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return Object(o["D"])("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new t(this.database,ka(this._delegate,e))},t.prototype.getParent=function(){Object(o["D"])("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return Object(o["D"])("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){Object(o["D"])("Reference.set",1,2,arguments.length),Object(o["E"])("Reference.set","onComplete",t,!0);var n=Na(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if(Object(o["D"])("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,x("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}gs("Reference.update",this._delegate._path),Object(o["E"])("Reference.update","onComplete",t,!0);var i=Da(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){Object(o["D"])("Reference.setWithPriority",2,3,arguments.length),Object(o["E"])("Reference.setWithPriority","onComplete",n,!0);var r=Aa(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){Object(o["D"])("Reference.remove",0,1,arguments.length),Object(o["E"])("Reference.remove","onComplete",e,!0);var t=Pa(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;Object(o["D"])("Reference.transaction",1,3,arguments.length),Object(o["E"])("Reference.transaction","transactionUpdate",e,!1),Object(o["E"])("Reference.transaction","onComplete",t,!0),bs("Reference.transaction","applyLocally",n,!0);var i=Nc(this._delegate,e,{applyLocally:n}).then((function(e){return new Ac(e.committed,new Dc(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){Object(o["D"])("Reference.setPriority",1,2,arguments.length),Object(o["E"])("Reference.setPriority","onComplete",t,!0);var n=Ra(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;Object(o["D"])("Reference.push",0,2,arguments.length),Object(o["E"])("Reference.push","onComplete",n,!0);var i=Ia(this._delegate,e),s=i.then((function(e){return new t(r.database,e)}));n&&s.then((function(){return n(null)}),(function(e){return n(e)}));var a=new t(this.database,i);return a.then=s.then.bind(s),a.catch=s.catch.bind(s,void 0),a},t.prototype.onDisconnect=function(){return gs("Reference.onDisconnect",this._delegate._path),new Rc(new ba(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Lc),Mc=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),Ec(this._delegate,e,t,n)},e.prototype.ref=function(e){if(Object(o["D"])("database.ref",0,1,arguments.length),e instanceof Fc){var t=xa(this._delegate,e.toString());return new Fc(this,t)}t=Ta(this._delegate,e);return new Fc(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";Object(o["D"])(t,1,1,arguments.length);var n=xa(this._delegate,e);return new Fc(this,n)},e.prototype.goOffline=function(){return Object(o["D"])("database.goOffline",0,0,arguments.length),Sc(this._delegate)},e.prototype.goOnline=function(){return Object(o["D"])("database.goOnline",0,0,arguments.length),Tc(this._delegate)},e.ServerValue={TIMESTAMP:kc(),increment:function(e){return Ic(e)}},e}(),qc=function(){Be.forceDisallow(),Fe.forceAllow()},Wc=function(){Fe.forceDisallow()},Uc=function(){return Be["isAvailable"]()},Bc=function(e,t){var n=e._delegate._repo.persistentConnection_;n.securityDebugCallback_=t},Vc=function(e,t){Js(e._delegate._repo,t)},zc=function(e,t){Xs(e._delegate._repo,t)},Hc=function(e){return e._delegate._repo.dataUpdateCount},Qc=function(e,t){return As(e._delegate._repo,t)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(e){var t=e.app,n=e.url,r=e.version,o=e.customAuthImpl,s=e.namespace,a=e.nodeAdmin,c=void 0!==a&&a;h(r);var u=new i["c"]("auth-internal",new i["b"]("database-standalone"));return u.setComponent(new i["a"]("auth-internal",(function(){return o}),"PRIVATE")),{instance:new Mc(bc(t,u,void 0,n,c),t),namespace:s}}var Gc=Object.freeze({__proto__:null,forceLongPolling:qc,forceWebSockets:Wc,isWebSocketsAvailable:Uc,setSecurityDebugCallback:Bc,stats:Vc,statsIncrementCounter:zc,dataUpdateCount:Hc,interceptServerData:Qc,initStandalone:Kc}),Yc=Ut;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ut.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Ut.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var $c=it,Jc=function(e){var t=Ut.prototype.put;return Ut.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Ut.prototype.put=t}},Xc=he,Zc=function(e){return e._delegate._queryIdentifier},eu=function(e){Oc(e)},tu=Object.freeze({__proto__:null,DataConnection:Yc,RealTimeConnection:$c,hijackHash:Jc,ConnectionTarget:Xc,queryIdentifier:Zc,forceRestClient:eu}),nu=Mc.ServerValue;function ru(e){h(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new i["a"]("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Mc(bc(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:Fc,Query:Lc,Database:Mc,DataSnapshot:Dc,enableLogging:O,INTERNAL:Gc,ServerValue:nu,TEST_ACCESS:tu}).setMultipleInstances(!0));e.registerVersion(c,u),Object(o["t"])()&&(t.exports=n)}ru(r["a"])}).call(this,n("4362"),n("dd40")(e))},e95a:function(e,t,n){var r=n("b622"),i=n("3f8c"),o=r("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[o]===e)}},f069:function(e,t,n){"use strict";var r=n("1c0b"),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},f5df:function(e,t,n){var r=n("00ee"),i=n("c6b6"),o=n("b622"),s=o("toStringTag"),a="Arguments"==i(function(){return arguments}()),c=function(e,t){try{return e[t]}catch(n){}};e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=c(t=Object(e),s))?n:a?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},f772:function(e,t,n){var r=n("5692"),i=n("90e3"),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},fc6a:function(e,t,n){var r=n("44ad"),i=n("1d80");e.exports=function(e){return r(i(e))}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,n){var r=n("4930");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fea9:function(e,t,n){var r=n("da84");e.exports=r.Promise},ffa6:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return a}));var r=n("9ab4"),i=n("a8e9"),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),s="[DEFAULT]",a=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i["a"];if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(u(e))try{this.getOrInitializeService({instanceIdentifier:s})}catch(p){}try{for(var i=Object(r["g"])(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r["e"])(o.value,2),c=a[0],l=a[1],h=this.normalizeInstanceIdentifier(c);try{var f=this.getOrInitializeService({instanceIdentifier:h});l.resolve(f)}catch(p){}}}catch(d){t={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=s),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Object(r["f"])(Object(r["f"])([],Object(r["e"])(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),Object(r["e"])(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=s),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=s),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,o=void 0===i?{}:i,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var c=Object(r["g"])(this.instancesDeferred.entries()),u=c.next();!u.done;u=c.next()){var l=Object(r["e"])(u.value,2),h=l[0],f=l[1],p=this.normalizeInstanceIdentifier(h);s===p&&f.resolve(a)}}catch(d){t={error:d}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,o=this.onInitCallbacks.get(t);if(o)try{for(var s=Object(r["g"])(o),a=s.next();!a.done;a=s.next()){var c=a.value;try{c(e,t)}catch(u){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:c(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(o){}return i||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=s),this.component?this.component.multipleInstances?e:s:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();function c(e){return e===s?void 0:e}function u(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){var t=this.getProvider(e.name);t.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new a(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()}}]);
//# sourceMappingURL=chunk-vendors.d1b81c59.js.map